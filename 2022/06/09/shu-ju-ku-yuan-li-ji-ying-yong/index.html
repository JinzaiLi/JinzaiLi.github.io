<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="数据库原理及应用, 技能笔记">
    <meta name="description" content="本文收集资料了MySQL数据库原理及应用的相关习题">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    
    <style>
        body{
            background-image: url(https://cdn.jsdelivr.net/gh/undersunn/PicX@master/0695b44c-1be7-4db0-a0de-b7f3fae7cd4c.52gncfpbxmk0.webp);
            background-repeat:no-repeat;
            background-size: 100% 100%;
            background-attachment:fixed;
        }
    </style>


    <title>数据库原理及应用 | 技能笔记</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 6.1.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="技能笔记" type="application/atom+xml">
</head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">技能笔记</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fas fa-list" style="zoom: 0.6;"></i>
      
      <span>清单</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a target="_blank" rel="noopener" href="https://music.163.com/#/discover/toplist?id=5453912201">
          
          <i class="fas fa-music" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>音乐</span>
        </a>
      </li>
      
      <li>
        <a target="_blank" rel="noopener" href="https://www.mypianku.net/">
          
          <i class="fas fa-film" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>电影</span>
        </a>
      </li>
      
      <li>
        <a target="_blank" rel="noopener" href="https://bks.thefuture.top/">
          
          <i class="fas fa-book" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>书籍</span>
        </a>
      </li>
      
      <li>
        <a target="_blank" rel="noopener" href="https://pixivic.com/">
          
          <i class="fas fa-image" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>图库</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">技能笔记</div>
        <div class="logo-desc">
            
            勿临渴掘井，宜未雨绸缪
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-list"></i>
			
			清单
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>

                  <a target="_blank" rel="noopener" href="https://music.163.com/#/discover/toplist?id=5453912201 " style="margin-left:50px">
				  
				   <i class="fa fas fa-music" style="position: absolute;left:28px" ></i>
			      
		          <span>音乐</span>
                  </a>
                </li>
              
                <li>

                  <a target="_blank" rel="noopener" href="https://www.mypianku.net/ " style="margin-left:50px">
				  
				   <i class="fa fas fa-film" style="position: absolute;left:28px" ></i>
			      
		          <span>电影</span>
                  </a>
                </li>
              
                <li>

                  <a target="_blank" rel="noopener" href="https://bks.thefuture.top/ " style="margin-left:50px">
				  
				   <i class="fa fas fa-book" style="position: absolute;left:28px" ></i>
			      
		          <span>书籍</span>
                  </a>
                </li>
              
                <li>

                  <a target="_blank" rel="noopener" href="https://pixivic.com/ " style="margin-left:50px">
				  
				   <i class="fa fas fa-image" style="position: absolute;left:28px" ></i>
			      
		          <span>图库</span>
                  </a>
                </li>
              
            </ul>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/GrayhatLewis/Learn" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/GrayhatLewis/Learn" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.1bpbrqtjhmv4.webp')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">数据库原理及应用</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/MySQL/">
                                <span class="chip bg-color">MySQL</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/" class="post-category">
                                数据库原理及应用
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2022-06-09
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    30.1k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    120 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="选择题汇总"><a href="#选择题汇总" class="headerlink" title="选择题汇总"></a><strong>选择题汇总</strong></h2><table>
<thead>
<tr>
<th>1.</th>
<th align="left">支持数据库各种操作的软件系统叫 （ B ）。<br>A 命令系统<br>B 数据库管理系统<br>C 数据库系统<br>D 操作系统</th>
</tr>
</thead>
<tbody><tr>
<td>2.</td>
<td align="left">由计算机硬件、DBMS 、数据库、应用程序及用户等组成的一个整体叫做 （  D）。<br>A 文件系统<br>B 软件系统<br>C 数据库管理系统<br>D 数据库系统</td>
</tr>
<tr>
<td>3.</td>
<td align="left">数据库系统的基本特点是（A  ）。<br>A 数据结构化；数据独立性高：数据冗余大，易移植；数据由DBMS统一管理和控制<br>B 数据结构化；数据独立性高：数据冗余小，易扩充；数据由DBMS统一管理和控制<br>C 数据结构化；数据独立性高；数据冗余大，易扩充；数据由文件系统统一管理和控制<br>D 数据非结构化；数据独立性高；数据冗余小，易扩充；数据由文件系统统一管理和控制</td>
</tr>
<tr>
<td>4.</td>
<td align="left">在数据库中，下列说法 （  A）是不正确的。<br>A 数据库避免了一切数据的重复<br>B 若系统是完全可以控制的，则系统可确保更新时的一致性<br>C 数据库中的数据可以共享<br>D 数据库减少了数据冗余</td>
</tr>
<tr>
<td>5.</td>
<td align="left">在数据库中存储的是 （D  ）。<br>A 数据<br>B 数据模型<br>C 信息<br>D 数据及数据之间的联系</td>
</tr>
<tr>
<td>6.</td>
<td align="left">数据库中，数据的物理独立性是指 （ C ）。<br>A 数据库与数据库管理系统的相互独立<br>B 用户程序与DBMS 的相互独立<br>C 用户的应用程序与存储在磁盘上的数据库中的数据是相互独立的<br>D 应用程序与数据库中数据的逻辑结构相互独立</td>
</tr>
<tr>
<td>7.</td>
<td align="left">数据库的特点之一是数据的共享，严格地讲，这里的数据共享是指（D  ）。<br>A 同一个应用中的多个程序共享一个数据集合<br>B 多个用户、同一种语言共享数据<br>C 多个用户共享一个数据文件<br>D 多种应用、多种语言、多个用户相互覆盖地使用数据集合</td>
</tr>
<tr>
<td>8.</td>
<td align="left">数据管理技术的发展过程中，经历了人工管理阶段、文件系统阶段和数据库系统阶段。在这几个阶段中，数据独立性最高的是（ A ）阶段。<br>A 数据库系统<br>B 文件系<br>C 人工管理<br>D 数据项管理</td>
</tr>
<tr>
<td>9.</td>
<td align="left">数据库的概念模型独立于（ A）。<br>A 具体的机器和DBMS<br>B E-R 图<br>C 信息世界<br>D 现实世界</td>
</tr>
<tr>
<td>10.</td>
<td align="left">数据库是在计算机系统中按照一定的数据模型组织、存储和应用的（ C ）。<br>A 文件的集合<br>B 命令的集合<br>C 数据的集合<br>D 程序的集合</td>
</tr>
<tr>
<td>11.</td>
<td align="left">在数据库系统中，通常用三级模式来描述数据库，其中 （ A ）是用户与数据库的接口，是应用程序可见到的数据描述。<br>A 外模式<br>B 逻辑模式<br>C 内摸式<br>D 概念模式</td>
</tr>
<tr>
<td>12.</td>
<td align="left">数据库系统的数据独立性是指（B  ）。<br>A 不会因为数据的变化而影响应用程序<br>B 不会因为系统数据存储结构与数据逻辑结构的变化而影响应用程序<br>C 不会因为存取策略的变化而影响存储结构<br>D 不会因为某些存储结构的变化而影响其他的存储结构</td>
</tr>
<tr>
<td>13.</td>
<td align="left">在数据库系统中，通常用三级模式来描述数据库，（ D ）描述了数据的物理结构。<br>A 外模式<br>B 子模式<br>C 模式<br>D 内模式</td>
</tr>
<tr>
<td>14.</td>
<td align="left">数据模型的三要素是（ D ）。<br>A 外模式、模式和内模式<br>B 关系模型、层次模型、网状模型<br>C 实体、属性和联系<br>D 数据结构、数据操作和完整性约束</td>
</tr>
<tr>
<td>15.</td>
<td align="left">层次模型、网状模型和关系模型的划分原则是（  D）。<br>A 记录长度<br>B 文件的大小<br>C 联系的复杂程度<br>D 数据之间联系的表示方式</td>
</tr>
<tr>
<td>16.</td>
<td align="left">数据库技术采用分级方法将数据库的结构划分成多级模式，是为了提高数据库的（ D ）。<br>A 数据规范性和管理规范性<br>B 数据共享和减少冗余<br>C 管理独立性和管理规范性<br>D 逻辑独立性和物理独立性</td>
</tr>
<tr>
<td>17.</td>
<td align="left">下述关于数据库系统的正确叙述是（ A ）。<br>A 数据库系统减少了数据冗余<br>B 数据库系统避免了一切冗余<br>C 数据库系统中数据的一致性是指数据类型一致<br>D 数据库系统比文件系统能管理更多的数据</td>
</tr>
<tr>
<td>18.</td>
<td align="left">数据库管理系统中用于定义和描述数据库逻辑结构的语言称为 （ A ）。<br>A 数据库定义语言<br>B 数据库子语言<br>C 数据操纵语言<br>D 数据结构语言</td>
</tr>
<tr>
<td>19.</td>
<td align="left">在数据库的三级模式结构中，描述数据库中全体数据的全局逻辑结构和特性的是（ D ）。<br>A 外模式<br>B 内模式<br>C 存储模式<br>D 模式</td>
</tr>
<tr>
<td>20.</td>
<td align="left">数据库管理系统能实现对数据库中数据的查询、插入、修改和删除，这类功能称为（C  ）。<br>A 数据定义功能<br>B 数据管理功能<br>C 数据操纵功能<br>D 数据控制功能</td>
</tr>
<tr>
<td>21.</td>
<td align="left">数据库系统的特点是（  A）、数据独立、减少数据冗余、避免数据不一致和加强了数据保护。<br>A 数据共享<br>B 数据存储<br>C 数据应用<br>D 数据保密</td>
</tr>
<tr>
<td>22.</td>
<td align="left">在数据库的三级模式结构中，描述数据库中全体数据的全局逻辑结构和特性的是（ A ）。<br>A 模式<br>B 内模式<br>C 存储模式<br>D 外模式</td>
</tr>
<tr>
<td>23.</td>
<td align="left">数据库管理系统能实现对数据库中数据的查询、插入、修改和删除，这类功能称为（  C）。<br>A 数据控制功能<br>B 数据管理功能<br>C 数据操纵功能<br>D 数据定义功能</td>
</tr>
<tr>
<td>24.</td>
<td align="left">数据模型的三要素是（ A ）。<br>A 数据结构、数据操作和完整性约束<br>B 关系模型、层次模型、网状模型<br>C 实体、属性和联系<br>D 外模式、模式和内模式</td>
</tr>
<tr>
<td>25.</td>
<td align="left">数据库系统的数据独立性是指（ B ）。<br>A 不会因为某些存储结构的变化而影响其他的存储结构<br>B 不会因为系统数据存储结构与数据逻辑结构的变化而影响应用程序<br>C 不会因为存取策略的变化而影响存储结构<br>D 不会因为数据的变化而影响应用程序</td>
</tr>
<tr>
<td>26.</td>
<td align="left">数据库技术的奠基人之一E.F.Codd从1970年起发表过多篇论文，主要论述的是( C )。<br>A 层次数据模型<br>B 网状数据模型<br>C 关系数据模型<br>D 面向对象数据模型</td>
</tr>
<tr>
<td>27.</td>
<td align="left">在数据库三级模式间引入二级映像的主要作用是( A )。<br>A 提高数据与程序的独立性<br>B 提高数据与程序的安全性<br>C 保持数据与程序的一致性<br>D 提高数据与程序的可移植性</td>
</tr>
<tr>
<td>28.</td>
<td align="left">数据库管理系统（DBMS ）是（ C ）。<br>A 既有硬件，也有软件<br>B 一组硬件<br>C 一组系统软件<br>D 一个完整的数据库应用系统</td>
</tr>
<tr>
<td>29.</td>
<td align="left">数据库中，数据的物理独立性是指 （ C ）。<br>A 数据库与数据库管理系统的相互独立<br>B 用户程序与DBMS 的相互独立<br>C 用户的应用程序与存储在磁盘上的数据库中的数据是相互独立的<br>D 应用程序与数据库中数据的逻辑结构相互独立</td>
</tr>
<tr>
<td>30.</td>
<td align="left">下述关于数据库系统的正确叙述是（ D ）。<br>A 数据库系统比文件系统能管理更多的数据<br>B 数据库系统避免了一切冗余<br>C 数据库系统中数据的一致性是指数据类型一致<br>D 数据库系统减少了数据冗余</td>
</tr>
<tr>
<td>31.</td>
<td align="left">同一个关系模型的任意两个元组值（ C ）。<br>A 必须全同<br>B 可全同<br>C 不能全同<br>D 以上都不是</td>
</tr>
<tr>
<td>32.</td>
<td align="left">两个关系在没有公共属性时，其自然联接操作表现为（  A）。<br>A 等值联接操作<br>B 笛卡儿积操作<br>C 结果为空关系<br>D 无意义的操作</td>
</tr>
<tr>
<td>33.</td>
<td align="left">关系R 和关系S 只有一个公共属性，T1是R 与S 等值联接的结果，T2 是R 和S 自然联接的结果，则（ D ）。<br>A T1 的属性个数大于或等于T2的属性个数<br>B T1 的属性个数小于T2的属性个数<br>C T1 的属性个数等于T2的属性个数<br>D T1 的属性个数大于T2的属性个数</td>
</tr>
<tr>
<td>34.</td>
<td align="left">设关系R和S的属性个数分别为2和3，那么<img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/image.53liebduu4w0.webp">等价于( B ) 。<br>A. σ1&lt;2(R×S)<br>B. σ1&lt;4(R×S) <br>C. σ1&lt;2(R∞S) <br>D. σ1&lt;4(R∞S)</td>
</tr>
<tr>
<td>35.</td>
<td align="left">σF1(σF2(E))与( A ) 等价。<br>A. σF1∧F2(E)<br>B. σF1(E)<br>C. σF2(E) <br>D. σF1∨F2(E)</td>
</tr>
<tr>
<td>36.</td>
<td align="left">设W=R∞S，且W,R,S的元组个数分别为p,m,n，那么三者之间满足( D )。<br>A. p&lt;(m+n)<br>B. p≤(m+n)<br>C. p&lt;(m×n)<br>D. p≤(m×n)</td>
</tr>
<tr>
<td>37.</td>
<td align="left">关系表A有p1个属性t1个元组；关系表B有p2个属性t2个元组。则A与B的笛卡尔积A×B分别有（ C ）属性和元组。<br>A p1+p2、t1+t2<br>B t1×t2、p1+p2<br>C p1+p2、t1×t2<br>D p1×p2、t1×t2</td>
</tr>
<tr>
<td>38.</td>
<td align="left">关系运算中花费时间可能最长的运算是（ A ）。<br>A 笛卡尔积<br>B 选择<br>C 投影<br>D 除</td>
</tr>
<tr>
<td>39.</td>
<td align="left">有两个关系R ( A , B , C )和S ( B , C，D)，则R和S自然连接后所得结果的属性个数是（  B ）。<br>A 5<br>B 4<br>C 3<br>D 6</td>
</tr>
<tr>
<td>40.</td>
<td align="left">等值联接和自然联接相比较，正确的是（ B ）。<br>A 等值联接的属性个数大于或等于自然联接的属性个数<br>B 等值联接的属性个数大于自然联接的属性个数<br>C 等值联接和自然联接的结果完全相同<br>D 等值联接和自然联接的联接条件相同</td>
</tr>
<tr>
<td>41.</td>
<td align="left">在关系R ( R # , RN , S # )和S ( S # , SN , SD )中, R 的主码是R # , S 的主码是S #，则S＃在R 中称为( A )<br>A 外码<br>B 候选码<br>C 主码<br>D 超码</td>
</tr>
<tr>
<td>42.</td>
<td align="left">在关系模型中，一个关键字是（ D ）。<br>A 不能由全部属性组成<br>B 由一个属性组成<br>C 由一个或多个任意属性组成<br>D 可由一个或多个能惟一标识该关系模式中任意元组的属性组成</td>
</tr>
<tr>
<td>43.</td>
<td align="left">假设存在一张职工表，包含“性别”属性，要求这个属性的值只能取“男”或“女”，这属于（ A ）。<br>A 用户定义的完整性<br>B 参照完整性<br>C 实体完整性<br>D 关系不变性</td>
</tr>
<tr>
<td><strong>44.</strong></td>
<td align="left">【多选题】<br>如果在学生-课程数据库中的SC表上建立了参照完整性约束：Foreign Key （Sno） References  Student（Sno）则 (  BDFH  )  操作可能会违背该约束。<br>A．更新SC表中的grade                 <br>B．更新SC表中的sno <br>C．删除SC表中的一行选课记录  <br>D．在SC表中插入一行记录<br>E. 在student表中更新sage<br>F. 在student表中修改sno<br>G. 在student表中插入一行记录<br>H. 在student表中删除一行记录</td>
</tr>
<tr>
<td>45.</td>
<td align="left">下列关于数据库运行和维护的叙述中，正确的是（D）。<br>A ．只要数据库正式投入运行，就标志着数据库设计工作的结束<br>B ．数据库的维护工作就是维持数据库系统的正常运行<br>C ．数据库的维护工作就是发现错误，修改错误<br>D ．数据库正式投入运行标志着数据库运行和维护工作的开始</td>
</tr>
<tr>
<td>46.</td>
<td align="left">E-R 图是表示概念模型的有效工具之一， E - R 图中的”菱形框”表示的是（A） .<br>A ．联系                <br>B . 实体          <br>C ．实体的属性    <br>D ．联系的属性</td>
</tr>
<tr>
<td>47.</td>
<td align="left">要将m:n的两个实体的E-R 图转换成关系模式，可以转换为（ C ）关系模式．  <br>A . 1 个  <br>B . 2 个  <br>C . 3 个  <br>D . 4 个</td>
</tr>
<tr>
<td>48.</td>
<td align="left">数据库设计中，（ D ） 不参加需求分析工作。<br>A．系统分析员    <br>B．程序员      <br>C．数据库设计人员     <br>D．用户</td>
</tr>
<tr>
<td>49.</td>
<td align="left">在数据库设计过程中， （ D ）工作离不开用户的参与。<br>A．设计数据库模式      <br>B．设计数据库外模式  <br>C．设计数据库内模式    <br>D．进行需求分析</td>
</tr>
<tr>
<td>50.</td>
<td align="left">从E-R模型关系向关系模型转换时，一个M：N联系转换为关系模式时，该关系模式的关键字是 （ C ）。<br>A. M端实体的关键字                    <br>B. N端实体的关键字   <br>C. M端实体关键字与N端实体关键字组合      <br>D. 重新选取其他属性</td>
</tr>
<tr>
<td>51.</td>
<td align="left">公司中有多个部门和多名职员，每个职员只能属于一个部门，一个部门可以有多名职员，从部门到职员的联系类型是（ D ） 。<br>A.多对多         <br>B.一对一         <br>C.多对一      <br>D.一对多</td>
</tr>
<tr>
<td>52.</td>
<td align="left">若两个实体之间的联系是1 : m ，则实现1 : m 联系的方法是（ A  ）．<br>A ．在“m ”端实体转换的关系中加入“l ”端实体转换关系的码<br>B ．将“m ”端实体转换关系的码加入到“1”端的关系中<br>C ．在两个实体转换的关系中，分别加入另一个关系的码<br>D ．将两个实体转换成一个关系</td>
</tr>
<tr>
<td>53.</td>
<td align="left">从E-R 图导出关系模式时，如果两实体间的联系是m : n ，下列说法中正确的是（ D ）。<br>A ．将m 方码和联系的属性纳入n 方的属性中<br>B ．将n 方码和联系的属性纳入m 方的属性中<br>C ．在m 方属性和n 方的属性中均增加一个表示级别的属性<br>D ．增加一个关系表示联系，其中纳入m 方和n 方的码</td>
</tr>
<tr>
<td>54.</td>
<td align="left">E-R 图中的联系可以与 （ C ）实体有关．<br>A . 0 个  <br>B . 1 个  <br>C . l 个或多个        <br>D ．多个</td>
</tr>
<tr>
<td>55.</td>
<td align="left">当局部E-R 图合并成全局E-R 图时可能出现冲突，不属于合并冲突的是（ B ）.<br> A ．属性冲突              <br>B ．语法冲突                <br>C ．结构冲突                <br>D ．命名冲突</td>
</tr>
<tr>
<td>56.</td>
<td align="left">数据库概念设计的E-R 图中，用属性描述实体的特征，属性在E-R 图中用 （ D ）表示。<br>A ．矩形                <br>B ．四边形            <br>C ．菱形                <br>D ．椭圆形</td>
</tr>
<tr>
<td>57.</td>
<td align="left">在数据库的概念设计中, 最常用的数据模型是 （ D ）.<br>A．形象模型          <br>B ．物理模型<br>C.   逻辑模型           <br>D ．实体联系模型</td>
</tr>
<tr>
<td>58.</td>
<td align="left">E-R 图是数据库设计的工具之一，它适用于建立数据库的（ A ）   <br>A ．概念模型                <br>B .  逻辑模型            <br>C ．结构模型                <br>D ．物理模型</td>
</tr>
<tr>
<td>59.</td>
<td align="left">数据库需求分析时，数据字典的含义是 （ D ）  ．<br>A ．数据库中所涉及的属性和文件的名称集合<br>B ．数据库中所涉及到字母、字符及汉字的集合<br>C ．数据库中所有数据的集合<br>D ．数据库中所涉及的数据流、数据项和文件等描述的集合</td>
</tr>
<tr>
<td>60.</td>
<td align="left">在正常的DBS中，“所有事务都是两段式的”与“事务的并发调度是可串行化的”（ A） 。<br>A.   后者是前者的必然结果<br>B.   前者是后者的必然结果<br>C.   前者是后者的必要条件<br>D.   后者是前者的充要条件</td>
</tr>
<tr>
<td>61.</td>
<td align="left">设有两个事务T1、T2，其并发操作如下，下面评价正确的是(A )。<br> ———————————–<br>   T1          T2<br>———————————-<br>(1) 读 A=48<br>(2)            读A=48<br>(3)读 A=A+10写回 <br>(4)            A=A-2写回<br>A.   该操作丢失了修改<br>B.   该操作不存在问题<br>C.   该操作读 ; 脏 ; 数据<br>D.   该操作不能重复</td>
</tr>
<tr>
<td>62.</td>
<td align="left">两个事务在加锁的过程中相互等待，哪一个事务都不能继续执行下去，这种状态称为（D ）状态。<br>A.   回滚<br>B.   活锁<br>C.   提交<br>D.   死锁</td>
</tr>
<tr>
<td>63.</td>
<td align="left">DB技术中，“脏数据”是指（B）。<br>A.   输入时就有错的数据<br>B.   未提交的随后又被撤消的数据<br>C.   未提交的数据<br>D.   违反访问权而写人DB的数据</td>
</tr>
<tr>
<td>64.</td>
<td align="left">设有两个事务T1、T2，其并发操作如下，下面评价正确的是（C ）.<br>———————————–<br> T1      T2<br>———————————–<br>(1) 读 A=100<br>     A=A*2写回<br>(2)          读A=200<br>(3) ROLLBACK<br>  恢复 A=100<br>———————————–<br>A.   该操作丢失修改<br>B.   该操作不存在问题<br>C.   该操作读” 脏”;数据<br>D.   该操作不能重复</td>
</tr>
<tr>
<td>65.</td>
<td align="left">不允许任何其他事务对这个锁定目标再加任何类型的锁是( C )。<br>A.   共享锁<br>B.   共享锁或排它锁<br>C.   排它锁<br>D.   以上都不是</td>
</tr>
<tr>
<td>66.</td>
<td align="left">设有两个事务T1、T2，其并发操作如下，下面评价正确的是(B )。 <br> T1    T2<br>———————————-<br>(1) 读 A=10，B=5<br>(2)          读A=10<br>              A=A*2写回<br>(3)读 A=20，B=5<br>求和25验证错<br>———————————–<br>A.   该操作丢失修改<br>B.   该操作不能重复读<br>C.   该操作读 ; 脏 ; 数据<br>D.   该操作不存在问题</td>
</tr>
<tr>
<td>67.</td>
<td align="left">以下四个概念中，可用来解决“一个并发调度是否正确”问题的是（ B）。<br>A.   串行调度<br>B.   并发事务的可串行化<br>C.   并发事务的可并行化<br>D.   并发事务的有效调度</td>
</tr>
<tr>
<td>68.</td>
<td align="left">下面关于“三级封锁协议”错误的说法是（  D ）。<br> A.   可以避免“脏读”<br> B.   可以避免“不能重复读”<br> C.   可以避免“丢失修改”<br> D.   可以避免“死锁”</td>
</tr>
<tr>
<td>69.</td>
<td align="left">在数据库系统中死锁属于（C   ）。<br><br>A.   介质故障 <br>B.   系统故障<br> C.   事务故障<br> D.   程序故障</td>
</tr>
<tr>
<td>70.</td>
<td align="left">对并发操作若不加以控制，可能会为数据库带来( B )问题。 <br>A.   死锁<br>B.   不一致<br> C.   死机<br> D.   不安全</td>
</tr>
<tr>
<td>71.</td>
<td align="left">若事务T对数据R已加X 锁，则其他事务对数据R( C  )。 <br> A.   可以加 S 锁，也可以加 X 锁<br> B.   可以加 S 锁，不能加 X 锁<br> C.   不能加任何锁<br> D.   不能加 S 锁，可以加 X 锁</td>
</tr>
<tr>
<td>72.</td>
<td align="left">下面关于“二级封锁协议”正确的说法是（ D ）。 <br> A.   存在“丢失修改” <br>B.   可以避免“死锁”<br> C.   “能重复读”<br>D.   可以避免“脏读”</td>
</tr>
<tr>
<td>73.</td>
<td align="left">设有两个事务T1、T2，他们对数据A的并发操作如下：<br>  —————————-<br>    T1            T2<br> —————————-<br> (1) 请求SLOCK A<br>    读A=18<br>(2)              请求SLOCK A<br>                 读A=18<br>(3) A=A+10<br>    写回 A=28<br>   COMMIT <br>   UNLOCK A<br>(4)                写回 A=18<br>                   COMMIT<br>                   UNLOCK A<br>———————————–<br> 对这个并发操作，下面评价正确的是（  D  ）。<br>A.   该操作的第(2)步中，事务T2不可能得到对A的锁<br> B.   该操作符合完整性要求<br> C.   该操作不能重复<br> D.   该操作的第(1)步中，事务T1应申请X（排它）锁</td>
</tr>
<tr>
<td>74</td>
<td align="left">下面关于“一级封锁协议”正确的说法是（ A ）。<br>A.   一级封锁协议避免“丢失修改”<br> B.   一级封锁协议可以避免“死锁”<br>C.   一级封锁协议“能重复读”<br>D.   一级封锁协议可以避免“脏读”</td>
</tr>
<tr>
<td>75.</td>
<td align="left">解决并发操作带来的数据不一致问题普遍采用  B 。<br> A.   恢复<br> B.   封锁<br> C.   存取控制<br> D.   协商</td>
</tr>
<tr>
<td>76.</td>
<td align="left">多用户的数据库系统的目标之一是使它的每个用户好像面对着一个单用户的数据库一样使用它，为此数据库系统必须进行 D 。<br>A.   安全性控制<br> B.   完整性控制<br> C.   可靠性控制<br> D.   并发控制</td>
</tr>
<tr>
<td>77.</td>
<td align="left">多选题：下面关于“二级封锁协议”正确的说法是（ AD  ）。 <br><br>A.  可以避免“脏读”<br> B.  可以避免“死锁”<br> C.  可以避免“不能重复读”<br> D.  可以避免“丢失修改”</td>
</tr>
<tr>
<td>78.</td>
<td align="left">SQL的GRANT和REVOKE语句可以用来实现（ A  ）。<br> A 自主存取控制<br>B 强制存取控制<br>C 数据库角色创建<br>D 数据库审计</td>
</tr>
<tr>
<td>79.</td>
<td align="left">数据库的  B  是指数据的正确性和相容性．<br>A ．安全性            <br> B ．完整性<br> C ．并发控制        <br> D ．恢复</td>
</tr>
<tr>
<td>80.</td>
<td align="left">多选题】如果在学生-课程数据库中的SC表上建立了参照完整性约束：<br> Foreign Key （Sno） References  Student（Sno），<br> Foreign Key （Cno）References Course（Cno），<br> 则 AC 操作不可能会违背该约束。<br> A．更新SC表中的选课记录                 <br> B．更新Course表中的课程记录 <br> C．在Student表上增加一个学生的记录       <br> D．删除SC表中的一条选课记录</td>
</tr>
<tr>
<td>81.</td>
<td align="left">如果在学生-课程数据库中的SC表上建立了参照完整性约束：<br> Foreign Key （Sno） References  Student（Sno），<br>Foreign Key （Cno）References Course（Cno），<br> 则 D 操作可能会违背该完整性约束。<br> A．在Student表上增加一行记录    <br> B．在Course表上增加一行记录 <br> C．在SC表上删除一行记录        <br> D．更新SC表上的记录</td>
</tr>
<tr>
<td>82.</td>
<td align="left">SQL的GRANT和REVOKE语句可以用来实现（ A  ）。<br>A 自主存取控制<br>B 强制存取控制<br>C 数据库角色创建<br>D 数据库审计</td>
</tr>
<tr>
<td>83.</td>
<td align="left">数据库的  B  是指数据的正确性和相容性．<br>A ．安全性            <br> B ．完整性<br> C ．并发控制        <br> D ．恢复</td>
</tr>
<tr>
<td>84.</td>
<td align="left">数据库系统并发控制的主要方法是采用  C  机制。<br>A ．拒绝        <br> B ．改为串行<br>C ．封锁        <br> D ．不加任何控制</td>
</tr>
<tr>
<td>85.</td>
<td align="left">若系统在运行过程中，由于某种原因，造成系统停止运行．致使事务在执行过程中以非控方式终止，这时内存中的信息丢失，而存储在外存上的数据未受影响，这种情况称为 B <br>. A ．事务故障       <br>B ．系统故障<br>C ．介质故障       <br>D ．运行故障</td>
</tr>
<tr>
<td>86.</td>
<td align="left">若系统在运行过程中，由于某种硬件故障，使存储在外存上的数据部分损失或全部损失，这种情祝称为  C 。<br>A ．事务故障        <br> B ．系统故障<br>C ．介质故障        <br> D ．运行故障</td>
</tr>
<tr>
<td>87.</td>
<td align="left">用于数据库恢复的重要文件是 C .<br>A ．数据库文件  <br> B ．索引文件<br>C ．日志文件        <br> D . 备注文件</td>
</tr>
<tr>
<td>88.</td>
<td align="left">并发操作会带来哪些数据不一致性？ D 。<br>A ．丢失修改、不可重复读、脏读、死锁<br>B   不可重复读、脏读、死锁<br>C ．丢失修改、脏读、死锁<br>D ．丢失修改、不可重复读、脏读</td>
</tr>
<tr>
<td>89.</td>
<td align="left">如果事务T获得了数据项Q上的排它锁，则T对Q D  。<br><br>A. 只能读不能写   <br>B. 只能写不能读   <br>C. 不能读不能写   <br>D. 既可读又可写</td>
</tr>
<tr>
<td>90.</td>
<td align="left">DBMS对数据库的锁有共享锁和排它锁，封锁是 C 的主要方法。<br><br>A. 安全性控制  <br>B. 完整性控制   <br>C. 并发控制     <br>D. 数据库恢复</td>
</tr>
<tr>
<td>91.</td>
<td align="left">关于“死锁”，下列说法中正确的是 D  。<br>A ．死锁是操作系统中的问题，数据库操作中不存在<br>B ．在数据库操作中防止死锁的方法是禁止两个用户同时操作数据库<br>C . 当两个用户竞争相同资源时不会发生死锁<br>D ．只有出现并发操作时，才有可能出现死锁</td>
</tr>
<tr>
<td>92.</td>
<td align="left">数据库的封锁机制是 C 的主要方法。<br><br>A ．完整性     <br>B  ．安全性      <br>C ．并发控制    <br>D ．恢复</td>
</tr>
<tr>
<td>93.</td>
<td align="left">若事务T 对数据R 已加X 锁，则其他事务对数据R  D <br>A ．可以加S 锁不能加X 锁     <br>B ．不能加S 锁可以加X 锁<br>C ．可以加S 锁也可以加X 锁      <br>D ．不能加任何锁</td>
</tr>
<tr>
<td>94.</td>
<td align="left">解决并发操作带来的数据不一致性问题时普遍采用 A  <br> A ．封锁           <br>B ．恢复<br>C ．存取控制． <br>D ．协商</td>
</tr>
<tr>
<td>98.</td>
<td align="left">多用户数据库系统的目标之一是使它的每个用户好像正在使用一个单用户教据库，为此数据库系统必须进行 C .<br>A ．安全性控制     <br>B ．完整性控制<br>C ．并发控制                 <br>D ．可靠性控制</td>
</tr>
<tr>
<td>99.</td>
<td align="left">事务的持久性是指 B <br>A ．事务中包括的所有操作要么都做，要么都不做<br>B ．事务一旦提交，对数据库的改变是永久的<br>C ．一个事务内部的操作及使用的数据对并发的其他事务是隔离的<br>D ．事务必须使数据库从一个一致性状态变到另一个一致性状态</td>
</tr>
<tr>
<td>100.</td>
<td align="left">下列不属于概念结构设计时常用的数据抽象方法的是 A  .<br><br>A ．合并      <br>B ．聚集     <br>C ．概括     <br>D ．分类</td>
</tr>
<tr>
<td>101.</td>
<td align="left">写一个修改到数据库中，与写一个表示这个修改的运行记录到日志文件中是两个不同的操作，对这两个操作的顺序安排应该是 B       <br>A ．前者先做                      <br>B ．后者先做<br>C .  由程序员在程序中作安排  <br>D ．哪一个先做由系统决定</td>
</tr>
<tr>
<td>102.</td>
<td align="left">在第一个事务以S 封锁方式读数据A 时，第二个事务对数据A 的读方式会遭到失败的是 A<br> A ．实现X 封锁的读       <br>B .  实现S 封锁的读<br>C ．不加封锁的读         <br>D ．实现共享型封锁的读</td>
</tr>
<tr>
<td>103.</td>
<td align="left">C   是DBMS的基本单位，它是用户定义的一组逻辑一致的程序序列．<br> A ．程序         <br>B ．命令<br>C ．事务         <br>D ．文件</td>
</tr>
<tr>
<td>104.</td>
<td align="left">事务的原子性是指 A <br>A ．事务中包括的所有操作要么都做，要么都不做<br>B ．事务一旦提交，对数据库的改变是永久的<br>C ．一个事务内部的操作及使用的数据对并发的其他事务是隔离的<br>D ．事务必须使数据库从一个一致性状态变到另一个一致性状态</td>
</tr>
<tr>
<td>105.</td>
<td align="left">事务是数据库执行的基本工作单位。如果一个事务执行成功，则全部更新提交；如果一个事务执行失败，则已做过的更新被恢复原状，好像整个事务从未有过这些更新，这就保持数据库处于 B   状态。<br>A ．安全性    <br>B ．一致性<br>C ．完整性     <br>D ．可靠性</td>
</tr>
<tr>
<td>106</td>
<td align="left">事务的一致性是指 D .<br>A ．事务中包括的所有操作要么都做，要么都不做<br>B ．事务一旦提交，对数据库的改变是永久的<br>C ．一个事务内部的操作及使用的数据对并发的其他事务是隔离的<br>D ．事务必须使数据库从一个一致性状态变到另一个一致性状态</td>
</tr>
<tr>
<td>107.</td>
<td align="left">数据恢复的建立冗余数据的常用技术 A 。<br><br>A. 数据转储和登记日志文件     <br>B. 数据备份和加密技术    <br>C. 视图与审计     <br>D. 数据库镜像</td>
</tr>
<tr>
<td>108.</td>
<td align="left">下列不属于数据库逻辑设计阶段应考虑的问题是 B  。<br>A ．概念模式               <br>B ．存取方法               <br>C ．处理要求               <br>D . DBMS 特性</td>
</tr>
<tr>
<td>109.</td>
<td align="left">下面不属于数据库物理设计阶段应考虑的问题是  D 。 <br>A ．存取方法的选择                                                       <br>B ．索引与入口设计 <br>C ．与安全性、完整性、一致性有关的问题          <br>D ．用户子模式设计</td>
</tr>
<tr>
<td>110.</td>
<td align="left">在强制存取控制机制中，当主体的许可证级别等于客体的密级时，主体可以对客体进行如下操作（  C ）。 <br>A 读取<br>B 写入<br>C 读取，写入<br>D 不可操作</td>
</tr>
<tr>
<td>101.</td>
<td align="left">强制存取控制策略是TCSEC/TDI哪一级安全级别的特色（  C ）。<br>A C1<br>B C2<br>C B1<br>D B2</td>
</tr>
<tr>
<td>102.</td>
<td align="left">事务的隔离性是指  C <br>A ．事务中包括的所有操作要么都做，要么都不做<br>B ．事务一旦提交，对数据库的改变是永久的<br>C ．一个事务内部的操作及使用的数据对并发的其他事务是隔离的<br>D ．事务必须使数据库从一个一致性状态变到另一个一致性状态</td>
</tr>
<tr>
<td>103.</td>
<td align="left">数据库安全审计系统提供了一种（  ）的安全机制。 C <br>A 事前检查<br>B 事发时追踪<br>C 事后检查<br>D 事前预测</td>
</tr>
<tr>
<td>104.</td>
<td align="left">下列不属于需求分析阶段工作的是 A  。 <br>A ．分析用户活动                 <br>B ．建立E-R图 <br>C ．建立数据字典             <br>D ．建立数据流图</td>
</tr>
<tr>
<td>105.</td>
<td align="left">在关系数据库设计中，设计关系模式是  C  的任务。<br><br>A ．需求分析阶段               <br>B ．概念设计阶段             <br>C.   逻辑设计阶段         <br>D ．物理设计阶段</td>
</tr>
<tr>
<td>106.</td>
<td align="left">下列属于数据库物理设计工作的是  B<br> A ．将E-R 图转换为关系模式           <br>B ．选择存取路径 <br>C . 建立数据流图                                    <br>D ．收集和分析用户活动</td>
</tr>
<tr>
<td>107.</td>
<td align="left">‎数据管理技术的发展过程中，经历了人工管理阶段、文件系统阶段和数据库系统阶段。在这几个阶段中，数据独立性最高的阶段是 正确答案：B<br>A. 人工管理	<br>B. 数据库系统 <br>C. 文件系统<br>D.数据项管理</td>
</tr>
<tr>
<td>108.</td>
<td align="left">‎数据库系统与文件系统的主要区别是：正确答案：B<br>A.文件系统只能管理程序文件，而数据库系统能够管理各种类型的文件<br>B.文件系统不能解决数据冗余和数据独立性问题，而数据库系统可以解决<br>C.数据库系统复杂，而文件系统简单<br>D.文件系统管理的数据量较少，而数据库系统可以管理庞大的数据量</td>
</tr>
<tr>
<td>109.</td>
<td align="left">‌数据库的概念模型独立于：正确答案：A<br>A.具体的机器和 DBMS<br>B. 现实世界<br>C. E-R 图<br>D. 信息世界</td>
</tr>
<tr>
<td>110.</td>
<td align="left">‌在数据库的三级模式结构中，描述数据库中全体数据的全局逻辑结构和特性的是：正确答案：C<br>A. 内模式<br>B. 存储模式<br>C. 模式<br>D. 外模式</td>
</tr>
<tr>
<td>111.</td>
<td align="left">数据库管理系统能实现对数据库中数据的查询、插入、修改和删除，这类功能称为：正确答案：A<br>A. 数据操纵功能<br>B. 数据管理功能<br>C. 数据控制功能<br>D. 数据定义功能</td>
</tr>
<tr>
<td>112.</td>
<td align="left">‎数据模型的三要素是：正确答案：A<br>A. 数据结构、数据操作和完整性约束<br>B. 外模式、模式和内模式<br>C. 关系模型、层次模型、网状模型<br>D. 实体、属性和联系</td>
</tr>
<tr>
<td>113.</td>
<td align="left">‍在数据库三级模式间引入二级映像的主要作用是：正确答案：A<br>A. 提高数据与程序的独立性<br>B. 提高数据与程序的安全性‌<br>C. 保持数据与程序的一致性<br>D. 提高数据与程序的可移植性<br></td>
</tr>
<tr>
<td>114.</td>
<td align="left">数据库技术的奠基人之一E.F.Codd从1970年起发表过多篇论文，主要论述的是：正确答案：A<br>A. 关系数据模型<br>B. 层次数据模型<br>C. 网状数据模型<br>D. 面向对象数据模型</td>
</tr>
<tr>
<td>115.</td>
<td align="left">‍数据库中，数据的物理独立性是指：正确答案：B<br>A. 应用程序与数据库中数据的逻辑结构相互独立<br>B. 用户的应用程序与存储在磁盘上的数据库中的数据是相互独立的<br>C. 数据库与数据库管理系统的相互独立<br>D. 用户程序与 DBMS 的相互独立</td>
</tr>
<tr>
<td>116.</td>
<td align="left">‎在数据库中，产生数据不一致的根本原因是：‎正确答案：C<br>A. 未对数据进行完整性控制<br>B. 数据存储量太大<br>C. 数据冗余<br>D. 没有严格保护数据</td>
</tr>
<tr>
<td>117.</td>
<td align="left">同一个关系模型的任意两个元组值（   ）正确答案：C<br>A. 必须相同<br>B.任意<br>C. 不能相同<br>D. 可以相同</td>
</tr>
<tr>
<td>118.</td>
<td align="left">参加差运算的两个关系（    ）正确答案：D<br>A. 一个关系包含另一个关系的属性<br>B. 属性个数可以不相同<br>C. 属性名必须相同<br>D. 属性个数必须相同</td>
</tr>
<tr>
<td>119.</td>
<td align="left">有两个关系R 和S , 分别包含15 个和10 个元组, 则在R∪S , R - S . R∩S不可能出现的元组数目情况是（ ）正确答案：C<br>A. 21 , 11 , 4<br>B. 15 , 5 , 10<br>C. 18 , 7 , 7<br>D. 25 , 15 , 0</td>
</tr>
<tr>
<td>120.</td>
<td align="left">关系R 和关系S 只有一个公共属性，T1是R 与S 等值联接的结果，T2 是R 和S 自然联接的结果，则（ ）正确答案：A‎<br>A. T1 的属性个数大于T2的属性个数<br>B. T1 的属性个数小于T2的属性个数<br>C. T1 的属性个数等于T2的属性个数<br>D.  T1 的属性个数大于或等于T2的属性个数</td>
</tr>
<tr>
<td>121.</td>
<td align="left">有属性A, B , C , D ，以下表示中不是关系的是（ ）正确答案：A<br>A. R ( A×B×C×D )<br>B. R ( A )<br>C. R ( A , B , C , D )<br>D. R ( A , B )</td>
</tr>
<tr>
<td>122.</td>
<td align="left">保护数据库，防止未经授权或不合法的使用造成的数据泄漏、非法更改或破坏。这是指数据的（   ）。正确答案：C<br>A. 并发控制<br>B. 恢复<br>B. 恢复<br>D. 完整性</td>
</tr>
<tr>
<td>123.</td>
<td align="left">将查询 SC 表的权限授予用户 U1，并允许该用户将此权限授予其他用户。实现此功能的SQL 语句是（  ）。正确答案：C<br>A. GRANT SELECT TO SC ON Ul WITH PUBIJIC<br>B. GRANT SELECT ON SC TO U1 WITH PUBLIC<br>C. GRANT SEIECT ON SC TO U1 WITH GRANT OPTION<br>D. GRANT SELECT TO SC ON Ul WITH GRANT OPTION</td>
</tr>
<tr>
<td>124.</td>
<td align="left">用于实现数据存取安全性的 SQL 语句是（  ）。正确答案：B<br>A. CREATE TABLE<br>B. GRANT 和 REVOKE<br>C. COMMIT<br>D. ROLLBACK</td>
</tr>
<tr>
<td>125.</td>
<td align="left">在数据库系统中，对存取权限的定义称为（  ）。正确答案：D<br>A.  定义<br>B. 审计<br>C. 命令<br>D.  授权</td>
</tr>
<tr>
<td>126.</td>
<td align="left">‎数据库管理系统通常提供授权功能来控制不同用户访问数据的权限，这主要是为了实现数据库的（   ）。正确答案：C<br>A. 可靠性<br>B. 一致性<br>C. 安全性<br>D. 完整性</td>
</tr>
<tr>
<td>127.</td>
<td align="left">在关系数据库中，从关系规范化的意义看，如果关系R中的非主属性对码有传递函数依赖，那么R至多是    正确答案：D<br>A. 1NF<br>B. BCNF<br>C. 3NF<br>D. 2NF</td>
</tr>
<tr>
<td>128.</td>
<td align="left">关系数据库的规范化理论主要解决的问题是    正确答案：B‌<br>A. 如何构造合适的应用程序结构<br>B. 如何构造合适的数据逻辑结构<br>C. 如何控制不同用户的数据操作权限<br>D. 如何构造合适的数据物理结构</td>
</tr>
<tr>
<td>129.</td>
<td align="left">关于主属性的说法，正确的是  正确答案：C<br>A. 主属性是包含在主码中的属性<br>B. 主属性是包含在全码中的属性<br>C. 主属性是包含在任何一个候选码中的属性<br>D. 主属性是包含在外码中的属性</td>
</tr>
<tr>
<td>130.</td>
<td align="left">判断关系所属范式（1NF、2NF、3NF、BCNF）,若R(W,X,Y,Z) FD={X→Z,WX→Y}，则该关系模式属于__1NF_。</td>
</tr>
<tr>
<td>131.</td>
<td align="left">判断关系所属范式（1NF、2NF、3NF、BCNF）,若R(X,Y,Z)   FD={X→Y,X→Z}，则该关系模式属于__BCNF_。</td>
</tr>
<tr>
<td>132.</td>
<td align="left">事务的一致性是指（   A ）<br>A. 事务必须使数据库从一个一致性状态变到另一个一致性状态<br>B. 一个事务内部的操作及使用的数据对并发的其他事务是隔离的<br>C. 事务中包括的所有操作要么都做，要么都不做<br>D. 事务中包括的所有操作要么都做，要么都不做</td>
</tr>
<tr>
<td>133.</td>
<td align="left">‏解决并发操作带来的数据不一致性问题时普遍采用（  D ）<br>A. 协商<br>B. 恢复<br>C. 存取控制<br>D. 封锁</td>
</tr>
<tr>
<td>134.</td>
<td align="left">‌若事务 T 对数据 R 已加 X 锁，则其他事务对数据 R（  B  ）<br>A. 不能加 S 锁可以加 X 锁<br>B. 不能加任何锁‌<br>C. 可以加 S 锁不能加 X 锁<br>D. 可以加 S 锁也可以加 X 锁</td>
</tr>
<tr>
<td>135.</td>
<td align="left">数据恢复的建立冗余数据的常用技术 （  B  ）<br>A. 视图与审计<br>B. 数据转储和登记日志文件‍<br>C. 数据备份和加密技术<br>D. 数据库镜像</td>
</tr>
<tr>
<td>136.</td>
<td align="left">‏关于“死锁”，下列说法中正确的是（ B ）<br>A. 在数据库操作中防止死锁的方法是禁止两个用户同时操作数据库<br>B. 只有出现并发操作时，才有可能出现死锁<br>C. 当两个用户竞争相同资源时不会发生死锁<br>D. 死锁是操作系统中的问题，数据库操作中不存在</td>
</tr>
</tbody></table>
<p>设有两个事务Tl 、T2 ，其并发操作如图所示，下列评价正确的是( B ).</p>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/image.o4ylmu2vk0g.webp"></p>
<p>A ．该操作不存在问题<br>B ．该操作丢失修改<br>C ．该操作不能重复读<br>D ．该操作读“脏”数据</p>
<hr>
<p>设有两个事务Tl 、T2 ，其并发操作如图所示，下列评价正确的是( D ).</p>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/image.69vym2s8o680.webp"></p>
<p>A ．该操作不存在问题<br>B ．该操作丢失修改<br>C ．该操作不能重复读<br>D ．该操作读“脏”数据</p>
<hr>
<p>设有两个事务Tl 、T2 ，其并发操作如图所示，下列评价正确的是( C ).</p>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/image.5972enkb1j80.webp"><br>A ．该操作不存在问题<br>B ．该操作丢失修改<br>C ．该操作不能重复读<br>D ．该操作读“脏”数据 </p>
<hr>
<p><strong>Student 、SC 、Course 表中已有数据如下：</strong></p>
<p>Student：</p>
<table>
<thead>
<tr>
<th>Sno</th>
<th>Sname</th>
<th>Sdept</th>
<th>Ssex</th>
<th>Sage</th>
</tr>
</thead>
<tbody><tr>
<td>1234501</td>
<td>aaa</td>
<td>CS</td>
<td>男</td>
<td>21</td>
</tr>
<tr>
<td>1234502</td>
<td>bbb</td>
<td>CS</td>
<td>女</td>
<td>20</td>
</tr>
<tr>
<td>1234503</td>
<td>ccc</td>
<td>IS</td>
<td>男</td>
<td>22</td>
</tr>
</tbody></table>
<p>Course</p>
<table>
<thead>
<tr>
<th>Cno</th>
<th>Cname</th>
<th>Cpno</th>
<th>Ccredit</th>
</tr>
</thead>
<tbody><tr>
<td>C01</td>
<td>Uuuu</td>
<td>C08</td>
<td>1</td>
</tr>
<tr>
<td>C02</td>
<td>Vvvv</td>
<td>C07</td>
<td>2</td>
</tr>
<tr>
<td>C03</td>
<td>Wwww</td>
<td>C06</td>
<td>2</td>
</tr>
<tr>
<td>C10</td>
<td>Xxxx</td>
<td>C15</td>
<td>3</td>
</tr>
<tr>
<td>C11</td>
<td>Yyyy</td>
<td>C16</td>
<td>1</td>
</tr>
<tr>
<td>C12</td>
<td>Zzzz</td>
<td>C20</td>
<td>4</td>
</tr>
</tbody></table>
<p>SC</p>
<table>
<thead>
<tr>
<th>Sno</th>
<th>Cno</th>
<th>Grade</th>
</tr>
</thead>
<tbody><tr>
<td>1234501</td>
<td>C01</td>
<td>80</td>
</tr>
<tr>
<td>1234501</td>
<td>C02</td>
<td>88</td>
</tr>
<tr>
<td>1234502</td>
<td>C01</td>
<td>90</td>
</tr>
<tr>
<td>1234503</td>
<td>C10</td>
<td>85</td>
</tr>
<tr>
<td>1234503</td>
<td>C11</td>
<td>91</td>
</tr>
</tbody></table>
<p>若在SC表上建立外码：</p>
<p>Foreign Key （Sno） References Student（Sno） ON Delete Cascade</p>
<p>ON Update NO Action，</p>
<p>Foreign Key （Cno）References Course（Cno）ON Delete Cascade</p>
<p>ON Update NO Action，</p>
<p>则下面的操作不正确的是（ D ）</p>
<p>A．在Student表中删除一个学生的基本信息：（学号1234501，姓名aaa，系别CS，性别男，年龄21），则SC表中第一行、第二行选课记录均被删除；  </p>
<p>B．将Course表中的课程号C12修改为C13 </p>
<p>C．删除SC表上第二行选课记录。</p>
<p>D．将Course表中的课程号C01修改为C15 </p>
<hr>
<p><strong>Student 、SC 、Course 表中已有数据如下：</strong></p>
<p>Student：</p>
<table>
<thead>
<tr>
<th>Sno</th>
<th>Sname</th>
<th>Sdept</th>
<th>Ssex</th>
<th>Sage</th>
</tr>
</thead>
<tbody><tr>
<td>1234501</td>
<td>aaa</td>
<td>CS</td>
<td>男</td>
<td>21</td>
</tr>
<tr>
<td>1234502</td>
<td>bbb</td>
<td>CS</td>
<td>女</td>
<td>20</td>
</tr>
<tr>
<td>1234503</td>
<td>ccc</td>
<td>IS</td>
<td>男</td>
<td>22</td>
</tr>
</tbody></table>
<p>Course</p>
<table>
<thead>
<tr>
<th>Cno</th>
<th>Cname</th>
<th>Cpno</th>
<th>Ccredit</th>
</tr>
</thead>
<tbody><tr>
<td>C01</td>
<td>Uuuu</td>
<td>C08</td>
<td>1</td>
</tr>
<tr>
<td>C02</td>
<td>Vvvv</td>
<td>C07</td>
<td>2</td>
</tr>
<tr>
<td>C03</td>
<td>Wwww</td>
<td>C06</td>
<td>2</td>
</tr>
<tr>
<td>C10</td>
<td>Xxxx</td>
<td>C15</td>
<td>3</td>
</tr>
<tr>
<td>C11</td>
<td>Yyyy</td>
<td>C16</td>
<td>1</td>
</tr>
<tr>
<td>C12</td>
<td>Zzzz</td>
<td>C20</td>
<td>4</td>
</tr>
</tbody></table>
<p>SC</p>
<table>
<thead>
<tr>
<th>Sno</th>
<th>Cno</th>
<th>Grade</th>
</tr>
</thead>
<tbody><tr>
<td>1234501</td>
<td>C01</td>
<td>80</td>
</tr>
<tr>
<td>1234501</td>
<td>C02</td>
<td>88</td>
</tr>
<tr>
<td>1234502</td>
<td>C01</td>
<td>90</td>
</tr>
<tr>
<td>1234503</td>
<td>C10</td>
<td>85</td>
</tr>
<tr>
<td>1234503</td>
<td>C11</td>
<td>91</td>
</tr>
</tbody></table>
<p>若在SC表上建立外码：</p>
<p>Foreign Key （Sno） References Student（Sno） ON Delete NO Action</p>
<p>ON Update NO Action，</p>
<p>Foreign Key （Cno）References Course（Cno）ON Delete NO Action</p>
<p>ON Update NO Action，</p>
<p>则下面能够正常执行的选项是（ A ）</p>
<p>A．删除Student表中学号为1234501的基本信息  </p>
<p>B．将Course表中的课程号C01修改为C100 </p>
<p>C．修改SC表上第二行选课记录，使得课程号由C02变为C20</p>
<p>D．修改SC表上第一行选课记录，使得课程号C01变为C11</p>
<hr>
<p>设有两个事务Tl 、T2 ，其并发操作如图所示，下列评价正确的是 B .</p>
<p>A ．该操作不存在问题    </p>
<p>B ．该操作丢失修改<br>C ．该操作不能重复读    </p>
<p>D ．该操作读“脏”数据</p>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/image.1ly9s0fy6o9s.webp"></p>
<hr>
<p>设有两个事务Tl 、T2 ，其并发操作如图所示，下列评价正确的是 D .</p>
<p>A ．该操作不存在问题    </p>
<p>B ．该操作丢失修改<br>C ．该操作不能重复读    </p>
<p>D ．该操作读“脏”数据</p>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/image.2xsi755vup60.webp"></p>
<hr>
<p>设Tl 和T2两个事务，它们对数据A 的并发操作如图所示（其中SLOCK A 表示对数据A 上S 锁，UNLOCK A 表示对数据A 解锁，COMMIT 表示提交操作）。对这个并发操作，下面5 个评价中的  B  和  D  两条评价是正确的．<br>A ．该操作不能重复读<br>B ．该操作丢失修改</p>
<p>C ．该操作符合完整性要求<br>D ．该操作的第（l ）步中，事务T1 应申请X 锁</p>
<p>E ．该操作的第（2 ）步中，事务T2 不可能得到对A 的锁</p>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/image.7dx9zq40gj80.webp"></p>
<hr>
<h2 id="实验二-数据定义"><a href="#实验二-数据定义" class="headerlink" title="实验二-数据定义"></a><strong>实验二-数据定义</strong></h2><blockquote>
<p><strong>表定义：创建student表 创建student（学生表）：</strong>            </p>
</blockquote>
<p> <strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.modq7642rr4.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">CREATE TABLE student(
    sno char(7),
    sname char(10) not null,
    ssex char(1) CHECK(ssex='男' or ssex='女'),
    sage SMALLINT CHECK(sage&gt;=15 and sage&lt;=45),
    sdept VARCHAR(20) DEFAULT '计算机系',
    PRIMARY KEY(sno)
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p> <strong>表定义：创建course表 创建course（课程表）</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.5yojyj31hrw0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">CREATE TABLE course(
    cno char(10),
    cname VARCHAR(20) NOT NULL,
    ccredit SMALLINT,
    semster SMALLINT,
    period smallint,
    PRIMARY KEY(cno)
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>表定义：创建sc表 创建sc（选课表）</strong>       </p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.67i76apk4e00.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">CREATE TABLE sc(
sno CHAR(7),
cno CHAR(10),grade SMALLINT CHECK(grade&gt;0),
PRIMARY KEY(sno,cno),
FOREIGN KEY(sno) REFERENCES student(sno)
ON DELETE RESTRICT ON UPDATE CASCADE,FOREIGN KEY(cno) REFERENCES course(cno)
ON DELETE RESTRICT ON UPDATE CASCADE
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>表定义：创建供应商表 创建 s（供应商表）</strong>   </p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.6blsopn5uag0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">CREATE TABLE s(
    sno char(6),
    sname VARCHAR(20) not null,
    sstatus SMALLINT,
    city VARCHAR(50),
    PRIMARY KEY(sno)
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>表定义：创建零件表 创建p（零件表）</strong>   </p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.7gc7yr4n8u40.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">CREATE TABLE p(
    pno char(6),
    pname VARCHAR(20) not null,
    color enum('红','绿','蓝'),
    weight DECIMAL(9,2) DEFAULT '1.0',
    PRIMARY KEY(pno)
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>表定义：创建工程项目表 创建 j（工程项目表）</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2siddgn80gk0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">CREATE TABLE j(
    jno char(6),
    jname VARCHAR(20) not null,
    city VARCHAR(50),
    PRIMARY KEY(jno)
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>表定义：创建供应情况表 供应情况表spj：</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2cqq5k9ezbfo.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">CREATE TABLE spj(
    sno char(6),
    pno char(6),
    jno char(6),
    qty SMALLINT DEFAULT 100,
    PRIMARY KEY(sno,pno,jno)
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>修改表结构：修改课程表 修改课程表course的CNAME属性列的类型为VARCHAR(30)；</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.5colwje20b40.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">ALTER TABLE course
MODIFY COLUMN cname VARCHAR(30);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>修改表结构：修改零件表 为零件表：p 增加一个规格(GUIGE)列，数据类型为字符，长度50；</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2tn8fcbqdvy0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">ALTER TABLE p
ADD COLUMN guige char(50);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>修改表结构：修改供应情况表 已知供应情况表spj</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.f0ok0yqhymg.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">ALTER TABLE spj
ADD COLUMN id int PRIMARY KEY auto_increment;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>修改表结构：修改供应情况表</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.181kyfy9c96k.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">ALTER TABLE spj
ADD FOREIGN KEY(sno) REFERENCES s(sno);
ALTER TABLE spj
ADD FOREIGN KEY(pno) REFERENCES p(pno)
on DELETE CASCADE;
ALTER TABLE spj
ADD FOREIGN KEY(jno) REFERENCES j(jno)
on UPDATE CASCADE;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>创建库存表 创建库存表sg，表结构如下：</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.7d4tklgh47c0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">CREATE TABLE  sg(
    sno char(5),
    gno char(6),
    quantity int,
    PRIMARY key(sno,gno),
    FOREIGN  KEY(sno) REFERENCES store(sno)
    on DELETE RESTRICT on UPDATE CASCADE,
    FOREIGN KEY(gno) REFERENCES goods(gno)
    on DELETE RESTRICT on UPDATE CASCADE
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>修改库存表 修改库存表：sg</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.5popfdw3wxg0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">ALTER  TABLE  sg
MODIFY COLUMN indate date;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>







<h2 id="作业2-1简单查询基础练习"><a href="#作业2-1简单查询基础练习" class="headerlink" title="作业2-1简单查询基础练习"></a><strong>作业2-1简单查询基础练习</strong></h2><blockquote>
<p><strong>查询课程代号为1301的成绩不及格的成绩信息  成绩表（cj）包括如下列（学号，课程代号，成绩，教师工号），查询课程代号为1301的成绩不及格的学生学号和成绩。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.pffp7l6ppjk.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select  xh,cj from cj where kcdh=1301 and cj&lt;60;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>查询工号为E0002的教师所承担课程的课程号  成绩表包括如下列（学号，课程代号，成绩，教师工号），查询工号为E0002的教师所承担课程的课程号。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.3kcftt7x2760.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select  distinct  kcdh from cj where gh='E0002';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>查询没取得有效成绩的学生成绩信息  成绩表包括如下列（学号，课程代号，成绩，教师工号），查询无有效成绩的成绩信息，列出学号，课程代号，成绩和教师工号。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.24hgoxq68e3k.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select  xh,kcdh,cj,gh from cj where cj is null;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>查询18级学生的成绩情况  cj成绩表包括如下列（学号，课程代号，成绩，教师工号），查询18级学生的成绩信息，列出学号、课程代号、成绩、教师工号。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.4ukz1v3rhw80.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select xh,kcdh,cj,gh from cj where xh like '092218___';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询1000、1001、1002三个部门的男员工信息 查询1000、1001、1002三个部门的“男”员工信息。（dept_id为部门编号）</strong> </p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.5ojg72gqqow0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select  * from employee where dept_id in(1000,1001,1002) and gender='男';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h2 id="作业2-2简单查询及聚集函数"><a href="#作业2-2简单查询及聚集函数" class="headerlink" title="作业2-2简单查询及聚集函数"></a><strong>作业2-2简单查询及聚集函数</strong></h2><blockquote>
<p><strong>SQL查询：查询1000、1001、1002三个部门的男员工信息 查询1000、1001、1002三个部门的“男”员工信息。（dept_id为部门编号）</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.17heaiyb8u8w.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select * from employee where dept_id in(1000,1001,1002) and gender='男';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>查询选修通过门数超过3门，且平均分在70以上的学生成绩信息  查询选修通过门数超过3门，且平均分在70以上的学生的学号，选修门数，平均成绩，并按平均成绩从高到低排序。 成绩表(表名为cj)包括如下列（学号，课程代号，成绩，教师工号），表结构定义如下：</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.3yky0h4a3ow0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select xh,count(*),avg(cj)
from cj where cj&gt;=60
group by xh having avg(cj)&gt;70 and count(*)&gt;3
order by avg(cj) desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询各个部门人数大于10人的，输出部门编号和人数，并按人数升序排序。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2khkr8nn1mo0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select dept_id,count(*)
from employee
group by dept_id having count(*)&gt;10
order by count(*) asc;**<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询公司员工的岗位设置 查询公司员工的岗位设置。（job_title表示员工岗位。）</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.79tz4407tjs0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select distinct job_title
from employee;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询部门1000的人数 查询部门1000的人数。 员工表：employee</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.60nclnpdhuk0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select count(*)
from employee where dept_id='1000';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>







<blockquote>
<p><strong>SQL查询：查询统计产品“17”的每单平均订购数，和订单总数 #查询统计产品“17”的每单平均订购数，和订单总数</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.1o8hlsi7dppc.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select product_id,avg(buy_number),count(*)
from order_detail where product_id='17';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>





<blockquote>
<p><strong>查询书名包括”网络”关键词的图书信息 查询书名包括”网络”关键词的图书信息，输出书号、书名、作者。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.1ubv7f7evfs0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select bno,bname,author&lt;br/&gt;from book where bname like '%网络%';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>查询18级学生的成绩情况  cj成绩表包括如下列（学号，课程代号，成绩，教师工号），查询18级学生的成绩信息，列出学号、课程代号、成绩、教师工号。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.4p92f8pktjw0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select xh,kcdh,cj,gh
from cj where xh like '092218%';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>





<blockquote>
<p><strong>SQL查询：查询单价在5000-6000之间的商品 查询单价在5000-6000（含5000和6000）之间的商品。输出商品名称(product_name)、价格(price)、商品类别(category_id)，按照价格降序排序。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.22oh6rl1pbnk.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select product_name,price,category_id
from product where price between 5000 and 6000
order by price desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>





<blockquote>
<p><strong>SQL查询：查询统计2016年订单客户总数 表结构如下：[注意表名请写<code>order</code>]</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.1mwtyv78mtkw.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select count(distinct customer_id)
from `order` where order_date like '2016%';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<h2 id="作业2-3连接练习"><a href="#作业2-3连接练习" class="headerlink" title="作业2-3连接练习"></a><strong>作业2-3连接练习</strong></h2><blockquote>
<p><strong>查询学生成绩单，要求输出学号，姓名，平均分，选修门数，按平均分降序排序。 #查询学生成绩单，要求输出学号，姓名，平均分，选修门数，按平均分降序排序。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.vhqb4zj0ys0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,sname,avg(grade),count(*)
from student,course,sc where student.sno = sc.sno and sc.cno = course.cno
group by sc.sno
order by 3 desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询学生有效成绩信息 有课程表，学生表，成绩表如下，请完成查询，查询学生成绩单，要求输出有有效成绩的学号，姓名，课程名，成绩，按学号升序课程名降序排列。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.5qxswgugnuk0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,sname,cname,grade
from student,sc,course
where grade is not null and student.sno = sc.sno and course.cno = sc.cno
order by 1,3 desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询选修“高等数学”课程的成绩不为空的学生学号、姓名和成绩。 查询选修“高等数学”课程的成绩不为空的学生学号、姓名和成绩。  有课程表，学生表，成绩表如下，请完成查询。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2rgydwqugpm0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,sname,grade
from student,course,sc
where course.cname='高等数学' and student.sno = sc.sno and course.cno = sc.cno and grade is not null;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询平均成绩大于70分的学生的学号、姓名、平均成绩，按平均成绩降序排序。 查询平均成绩大于70分的学生的学号、姓名、平均成绩，按平均成绩降序排序。  有课程表，学生表，成绩表如下，请完成查询。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.5j3svahbngk0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,sname,avg(grade)
from course,student,sc
where student.sno = sc.sno and course.cno = sc.cno
group by sc.sno
having avg(grade)&gt;70
order by 3 desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询每门课的先修课，输出课程号、课程名和先修课程名。 查询每门课的先修课，输出课程号、课程名和先修课程名。 有课程表，学生表，成绩表如下，请完成查询。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2k1ffb236i00.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select c1.cno,c1.cname,c2.cname
from course c1,course c2
where c1.cpno = c2.cno;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询95级学生(学号前两位)的选课情况，输出学号、姓名、课程号、成绩（包括未选课的学生信息）。 查询95级学生(学号前两位)的选课情况，输出学号、姓名、课程号、成绩（包括未选课的学生信息）。 有课程表，学生表，成绩表如下，请完成查询。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.3de56ufmx720.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,sname,sc.cno,grade
from student left join sc
on student.sno = sc.sno
where student.sno like '95%';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>统计查询订单笔数超过15笔的上海客户的订单情况 统计查询订单笔数超过15笔的上海客户的订单情况，输出客户名称，订单次数，订单总额（订单金额之和），结果按客户名升序排列。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.67d9xtvrf9s0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select customer_name,count(*),sum(`order`.total_money)
from customer,`order`
where customer.customer_id=`order`.customer_id and city like '%上海%'
group by customer.customer_id having count(*)&gt;15
order by 1;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询上海客户2014年的订单情况 查询上海客户2014年的订单情况，输出客户名称，订单号，订单日期，订单金额。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.6qpbgbkdr580.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select customer_name,`order`.order_id,order_date,`order`.total_money
from customer,`order`
where customer.customer_id = `order`.customer_id and city like '%上海%' and order_date like '2014%'; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询销售数量总数超过600的产品信息  查询销售数量总数超过600的产品信息，输出产品号，产品名称。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.3q7ub3234fs0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select product.product_id,product_name
from order_detail,product
where product.product_id=order_detail.product_id
group by product.product_id having sum(buy_number)&gt;600;**<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="实验三-数据查询（一）"><a href="#实验三-数据查询（一）" class="headerlink" title="实验三 数据查询（一）"></a><strong>实验三 数据查询（一）</strong></h2><blockquote>
<p><strong>SQL查询：查询选修了课程的学生的总人数 #查询选修了课程的学生的总人数。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2trdaxnvrui0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select count(distinct sno)
from sc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>输出学生成绩单，要求 输出学号，姓名，平均分，选修门数，按平均分降序排序。 输出学生成绩单，要求 输出学号，姓名，平均分，选修门数，按平均分降序排序。 有课程表，学生表，成绩表如下，请完成查询。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.10nmpl90a1gw.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,sname,avg(grade),count(*)
from student,sc
where student.sno = sc.sno
group by student.sno
order by 3 desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询无考试成绩的学生的学号和相应的课程号 #查询成绩表中无成绩的记录，输出学生的学号和相应的课程号。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.6pqr9ftrfeo0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select sc.sno,sc.cno
from sc
where grade is null; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询考试不及格的学生的学号 #查询输出考试成绩不及格学生的学号</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.3ftrz5znzti0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select distinct sc.sno
from sc
where grade&lt;60; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询输出“高等数学”课程成绩前三名（不考虑成绩有重复值的情况）的学生的学号，姓名，课程名，系名，成绩。 #查询输出“高等数学”课程成绩前三名（不考虑成绩有重复值的情况）的学生的学号，姓名，课程名，系名(sdept)，成绩。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.egozbu930og.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,sname,cname,sdept,grade
from student,sc, course
where student.sno = sc.sno and course.cno = sc.cno and course.cname = '高等数学'
order by grade desc
limit 3;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询选修了课程的学生的学号和姓名。 #查询选修了课程的学生的学号和姓名，按学号排序。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.4l5v39iv3a40.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select distinct student.sno,sname
from student,sc
where student.sno = sc.sno
order by 1;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询选修通过门数超过3门，且平均分在70以上的学生成绩信息  查询选修通过门数超过3门，且平均分在70以上的学生的学号，选修门数，平均成绩，并按平均成绩从高到低排序。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2e1zm1tkfbpc.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select xh,count(*),avg(cj)
from cj
where cj&gt;=60
group by xh
having count(*)&gt;3 and avg(cj)&gt;70
order by 3 desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询“信息系”学生的学号，姓名和出生年份 #查询“信息系”学生的学号，姓名和出生年份(当前年为2020)。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.3k4k92alqyq0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select sno,sname,2020-sage
from student
where sdept = '信息系';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：输出“高等数学”课程成绩前2名的学生的学号，姓名，系名 #输出“高等数学”课程成绩前2名的学生的学号，姓名，系名</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.6qujbm7dx280.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select distinct student.sno,sname,sdept
from student,sc,course
where student.sno = sc.sno and course.cno = sc.cno and cname = '高等数学'
order by grade desc&lt;br/&gt;limit 2; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询输出平均成绩在2-5名的学生 #查询输出平均成绩在2-5名的学生，输出学号、姓名和平均成绩（取整），平均成绩降序。【不用考虑空值】</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.11no2m1e54rk.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,sname,round(avg(grade),0)
from student,sc
where student.sno = sc.sno
group by student.sno
order by 3 desc
limit 1,4;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询姓“张”的学生的基本信息 #查询姓“张”的学生的基本信息。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.29xlqre8flwk.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select * from student
where sname like '张%';**<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询学生的选课情况，要求输出学号，姓名，课程门数，课程名列表（按课程名升序排列，用下划线_分隔），按照学号升序排序。 #查询学生的选课情况，要求输出学号，姓名，课程门数，课程名列表（按课程名升序排列，用下划线_分隔），按照学号升序排序。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.59lu40qm9r40.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,sname,count(*),group_concat(cname order by cname separator '_')
from student,course,sc
where student.sno = sc.sno and course.cno = sc.cno
group by student.sno;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询年龄在20-23岁之间的学生的系，姓名，年龄，按照系升序排序 #查询年龄在20-23岁之间的学生的系名，姓名，年龄，按照系名升序、年龄降序排序</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2rg9kn6uhzo0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select sdept,sname,sage
from student
where sage between 20 and 23
order by 1,3 desc; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询选修了“计算机网络”或者“数据库基础”课程的学生的学号，姓名 #查询选修了“计算机网络”或者“数据库基础”课程的学生的学号，姓名。按学号排序。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2dupayiiw1no.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select distinct student.sno,sname
from student,course,sc
where student.sno = sc.sno and course.cno = sc.cno and cname in ('计算机网络','数据库基础')
order by 1; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：统计各门课程的重修人数（包括grade为NULL），要求输出课程代号，重修人数。 #统计各门课程的未通过人数（包括grade为NULL），要求输出课程代号，未通过人数，结果按课程号升序排列。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.1kzt4pnqe7og.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select sc.cno,count(*)
from sc
where grade&lt;60 or grade is null
group by sc.cno
order by 1;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询选修通过2门（包括2门）以上的学生的信息，输出学号、选修通过门数、平均成绩，按门数降序排序，若门数相同，按照成绩降序。 #查询选修通过2门（包括2门）以上的学生的信息，输出学号、选修通过门数、平均成绩（取整），按门数降序排序，若门数相同，按照成绩降序。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.3dfwztak5kq0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select sno,count(*),round(avg(grade),0)
from sc
where grade &gt;=60
group by sno
having count(*)&gt;=2
order by 2 desc,3 desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询计算机系平均成绩高于70分的成绩信息。 有课程表，学生表，成绩表如下，查询计算机系平均成绩高于70分的学号，姓名、平均成绩，并按平均成绩降序排列。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.1x3ewh37jue8.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,sname,avg(grade)
from student,sc
where sdept = '计算机系' and student.sno = sc.sno
group by sc.sno
having avg(grade)&gt;70
order by 3 desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="课堂测试3-简单查询及连接查询"><a href="#课堂测试3-简单查询及连接查询" class="headerlink" title="课堂测试3-简单查询及连接查询"></a><strong>课堂测试3-简单查询及连接查询</strong></h2><blockquote>
<p><strong>SQL查询：查询订单的产品ID列表 查询编号为[2] 的订单包含的产品ID（product_id）列表，输出订单ID，产品ID列表（以:分隔，并升序排序）。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.7gwst3vjdbo0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select order_id ,GROUP_CONCAT(distinct product_id ORDER BY product_id asc SEPARATOR ':')
from order_detail
where order_id=2 ;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>建立book表 写出建立book表的SQL语句，要求如下：</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.285zv4d4zwn4.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">create table book(
    bno int not null,
    bname char(50) not null,
    author char(50),
    price float(5,2),
    quantity int,
    PRIMARY KEY(bno)
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询”主管”的员工信息 #查询”主管”的员工信息：输出部门编号，员工id，员工姓名，性别，按部门编号排序。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2pjftpir8ga0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select dept_id,employee_id,employee_name,gender
from employee
where job_title = '主管'
order by 1;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>统计查询上海客户订数排名前5的客户订单信息 统计查询上海客户订单数排名前5的订单情况 ，输出客户号、客户名称及订单数。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.70hfbcrypf00.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select customer.customer_id,customer_name,count(*)
from customer,`order`
where `order`.customer_id = customer.customer_id
and city like '%上海%'
group by `order`.customer_id
order by 3 desc
limit 5;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询2015年的借阅信息，输出读者卡号、书号及还书日期 查询2015年的借阅信息，输出读者卡号、书号及还书日期。  borrow(借书记录)表 ：cno 借书卡号，bno 书号，rdate 还书日期</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.6kgiw6crpr00.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select cno,bno,rdate
from borrow
where year(rdate)=2015;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询总经理、经理以下的职员信息 查询总经理、经理以下的职员信息（既除总经理和经理以下的全部其他职员信息）。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.udy8ylxvbnk.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select * from employee
where job_title is null or job_title not in('经理','总经理');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>统计各个分类的产品数和平均价格，最高价，最低价，按照产品分类号排序。 统计各个分类的产品数和平均价格，最高价，最低价，按照产品分类号排序。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.7lbivdn5has0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select category_id,count(*),avg(price),max(price),min(price)
from product
group by category_id  
order by category_id;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询借阅书名为”水浒”书的读者信息 查询借阅书名为”水浒”书的读者信息，输出姓名及班级。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.5fa5df55ll40.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select name,class
from card,book,borrow
where card.cno = borrow.cno and book.bno = borrow.bno and bname = '水浒';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询北上广的顾客信息 查询北上广的顾客信息。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.dufvm699u4g.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select * from customer
where city in ('北京','上海','广州');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询姓名中含有“海”的学生的选课信息，要求输出学号、姓名、课程名、成绩。 #查询姓名中含有“海”的学生的选课信息，要求输出学号、姓名、课程名、成绩。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.jfssqh9yg3k.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,sname,cname,grade
from student,sc,course
where student.sno = sc.sno and course.cno = sc.cno and sname like '%海%';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<h2 id="课堂练习-简单查询及连接查询"><a href="#课堂练习-简单查询及连接查询" class="headerlink" title="课堂练习-简单查询及连接查询"></a><strong>课堂练习-简单查询及连接查询</strong></h2><blockquote>
<p><strong>查询价格在3000到5000(包含3000和5000)且产品名包含“联想”两字的产品信息 查询价格在3000到5000(包含3000和5000)且产品名包含“联想”两字的产品信息，输出产品号、产品名、结果按产品号降序排列。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.1ae5uvh4ehls.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select product_id,product_name
from product
where price between 3000 and 5000 and product_name like '%联想%'
order by 2 desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询不在1001及1002部门的员工信息 查询不在1001及1002部门的员工信息，输出员工号、员工姓名、所在部门编号。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.34un2uhuqqo0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select employee_id,employee_name,dept_id
from employee
where dept_id not in(1001,1002);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询无上司（report_to不确定）的员工信息 查询无上司（report_to不确定）的员工信息，输出员工号、员工姓名、职位。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.1m0qe7vkscow.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select employee_id,employee_name,job_title
from employee
where report_to is null;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询1002部门的员工及上司信息 查询1002部门的员工及上司信息，输出员工号、员工姓名、上司工号、上司姓名(包括上司不确定的员工信息)，结果按员工号升序排列。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.79z6zen9d8s0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select c1.employee_id,c1.employee_name,c2.employee_id,c2.employee_name
from employee c1 left join employee c2
on c1.report_to = c2.employee_id
where c1.dept_id = 1002
order by 1;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询产品类别名称为“打印机”价格超过1000的产品信息  查询产品类别名称为“打印机”价格超过1000的产品信息，输出类别号、类别名称、产品号、产品名称、单价，结果按产品号升序排列。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.77oz5llo0ds0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select product.category_id,name,product_id,product_name,price
from product ,category
where product.category_id=category.category_id and price&gt;1000 AND name='打印机'
order by product_id<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>统计查询各类产品数及产品号列表 统计查询各类产品数及产品号列表，输出类别号、类别名称、该类别包含产品数、该类别产品号列表（按产品号降序排列，产品号之间用下划线分隔）。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.6geejwgxhl80.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select category.category_id,name,count(*),group_concat(product_id order by product_id desc separator '_')
from category,product
where category.category_id=product.category_id
group by category.category_id;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询产品类别名称为“一体机”且一次销售数量在45及以上的产品销售信息 查询产品类别名称为“一体机”且一次销售数量在45及以上的产品销售信息，输出订单详情id、产品号、销售数量和销售额，结果按订单详情id升序排列。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2ocb8tarwpg0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select id,product.product_id,buy_number,total_money
from category,product,order_detail
where product.category_id=category.category_id and product.product_id=order_detail.product_id
and name='一体机'and buy_number&gt;=45
order by id;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>统计查询2016年销售量前10的产品销售信息 统计查询2016年销售量前10的产品销售信息，输出产品号、总销售量。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.1u9zuueu8nhc.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select product.product_id,sum(buy_number)
from `order`,order_detail,product
where `order`.order_id=order_detail.order_id
and order_detail.product_id=product.product_id
and year(order_date)=2016
group by product.product_id
order by 2 desc
LIMIT 10;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="作业2-4-子查询"><a href="#作业2-4-子查询" class="headerlink" title="作业2-4-子查询"></a><strong>作业2-4-子查询</strong></h2><blockquote>
<p><strong>查询商品类别名称为“一体机”、“台式机”两类商品的信息 查询商品类别名称为“一体机”、“台式机”两类商品的信息，输出产品号、价格，结果按商品号升序排列。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2e60y17zj6zo.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select product_id,price from product
where category_id in(select category_id from category where name in ('一体机','台式机'))
order by 1;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询商品类别名称为“一体机”、“台式机”两类商品的销售情况 查询商品类别名称为“一体机”、“台式机”两类商品的销售情况，输出订单详情id、产品号、销售数量，结果按订单详情id升序排列。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.6ktlkoiq380.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select id,product_id,buy_number from order_detail
where product_id in (select product_id from product
                     where category_id in(select category_id from category
                                          where name in('一体机','台式机')))
                                          order by 1;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>统计查询商品类别名称为“一体机”、“台式机”两类商品的销售情况 统计查询商品类别名称为“一体机”、“台式机”两类商品的销售情况，输出产品号、销售总数、销售总额，结果按商品号升序排列。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.53ywh5g5lp00.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select product_id,sum(buy_number),sum(total_money) from order_detail
where product_id in(select product_id from product
                    where category_id in(select category_id from category
                                         where name in ('一体机','台式机')))
                                         group by product_id
                                         order by 1;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询被1001、1002、1003、1004、1005五位顾客都购买过的产品信息 查询被1001、1002、1003、1004、1005五位顾客都购买过的产品信息，输出产品号，价格。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.5d4nov1zggk0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select distinct product_id,price
from product
where not exists(select *from customer
                 where customer_id in('1001','1002','1003','1004','1005') and not exists(
                     select * from order_detail,`order`
                     where `order`.customer_id=customer.customer_id and order_detail.order_id=`order`.order_id and order_detail.product_id=product.product_id));
                     <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="课堂练习-子查询"><a href="#课堂练习-子查询" class="headerlink" title="课堂练习-子查询"></a><strong>课堂练习-子查询</strong></h2><blockquote>
<p><strong>查询每门被选修的课程信息，输出课程号，课程名  查询每门被选修的课程信息，输出课程号，课程名，结果按课程号降序排列。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.3pelj3w7mig0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select distinct cno,cname
from course
where cno in(select cno from sc
             where cno=course.cno)
             order by 1 desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询每门课程被选修的情况，输出课程号，课程名，被选修次数 查询每门课程被选修的情况，输出课程号，课程名，被选修次数，结果按选修次数降序课程号降序排列。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2sv2n2gs7sa0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select course.cno,cname,count(*)
from course,sc
where course.cno = sc.cno
group by sc.cno
order by 3 desc,1 desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询每门课程被选修的情况(包括从未被选修过的课程) 查询每门课程被选修的情况(包括从未被选修过的课程)，输出课程号，课程名，被选修次数，结果按选修次数升序课程号升序排列</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.4kd41c1khok0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select course.cno,cname,count(sno)
from course left join sc
on course.cno = sc.cno
group by course.cno
order by 3,1;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询 2016 年没有下订单的客户 查询 2016 年没有下订单的客户，输出客户编号和客户名称，结果按客户名称升序排列。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2vovv4w1dzc0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select c1.customer_id, c1.customer_name 
from customer c1
where c1.customer_id not in(select customer_id from `order` c2
                            where c2.order_date like '2016%')
                            order by c1.customer_name;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询销售数量总数超过600的产品信息 查询销售数量总数超过600的产品信息，输出产品号，产品名称。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.22j9bgy3uq80.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select product.product_id,product_name from order_detail,product
where order_detail.product_id=product.product_id
group by product.product_id
having sum(buy_number)&gt;600
order by product.product_id;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询一次订购了4,7,8号产品的订单号 查询一次订购了4,7,8号产品的订单号。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.5jl4qjbji7o0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select distinct order_id
from order_detail o1
where not exists(select *from order_detail o2
                 where product_id in('4','7','8') and not exists(
                     select *from order_detail o3
                     where o1.order_id = o3.order_id and o2.product_id=o3.product_id));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询一次订购了4,7,8号产品的客户名及电话 查询一次订购了4,7,8号产品的客户名及电话。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2avyuf9ghcn4.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select customer_name,phone
from customer
where customer_id in(select customer_id from `order`
                     where order_id in(select order_id from order_detail
                                       where product_id=4 and order_id in(select order_id from order_detail
                                                                          where product_id=7 and order_id in(select order_id from order_detail
                                                                                                             where product_id=8))));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>统计查询订单金额超过该客户平均订单额（该客户订单金额平均值）的上海客户的订单情况 统计查询订单金额超过该客户平均订单额（该客户订单金额平均值）的上海客户的订单情况，输出客户名、订单号、订单金额、该客户平均订单额（该客户订单金额平均值），结果按客户名升序订单号升序排列。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.26k3ktnn02kg.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select customer_name,`order`.order_id,total_money,avgmoney
from customer,`order`,(select customer_id,avg(total_money) avgmoney from `order` group by customer_id) as avg_order
where customer.customer_id = `order`.customer_id and customer.customer_id = avg_order.customer_id and total_money&gt;avg_order.avgmoney and city = '上海'
order by 1,2;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="实验三-数据查询（二）"><a href="#实验三-数据查询（二）" class="headerlink" title="实验三 数据查询（二）"></a><strong>实验三 数据查询（二）</strong></h2><blockquote>
<p><strong>查询选修通过2门（包括2门）以上的学生的学号及姓名。 # 查询选修通过2门（包括2门）以上的学生的学号及姓名。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2jd0c6scnrs0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,sname
from student,sc
where grade&gt;=60 and student.sno = sc.sno
group by sc.sno
having count(*)&gt;=2;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询每个学生成绩最高的成绩信息 有课程表，学生表，成绩表如下，请完成查询，输出成绩信息学号、课程号及成绩，最高分可能有多门成绩。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.41iw44vplws0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select sc.sno,sc.cno,grade
from course,sc,(select sno,max(grade) max_grade from sc group by sno) as max_sc
where sc.cno = course.cno and sc.sno = max_sc.sno and sc.grade = max_sc.max_grade;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>找出至今没有人选修过的课程 有课程表，学生表，成绩表如下，找出至今没有人选修过的课程号、课程名称。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.45q8bpek0bo0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select distinct course.cno,cname
from course,sc
where course.cno not in(select cno from sc
                        where cno = sc.cno);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询选修了c03课程的学生学号和姓名 有课程表，学生表，成绩表如下，查询选修了c03课程的学生学号和姓名。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.47jbdhhew7s0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,sname
from student,sc
where student.sno = sc.sno and cno = 'c03';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询统计学生的不及格门数 #查询统计学生不及格门数大于等于2门的信息，输出系名，学号，姓名，不及格门数，按照系（升序）排序，不及格门数（降序）排序。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.565a26ysxwc0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select sdept,student.sno,sname,count(*)
from student,sc
where grade&lt;60 and student.sno = sc.sno
group by sc.sno
having count(*)&gt;=2
order by 1,4 desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询超过该课程平均分的成绩信息 有课程表，学生表，成绩表如下，查询超过该课程平均分的成绩信息，输出学号，课程号及成绩。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.5hey8pochuo0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select sc.sno,sc.cno,grade
from course,sc,(select cno,avg(grade) avggrade from sc group by cno) as avg_sc
where sc.cno = course.cno and sc.cno = avg_sc.cno and grade&gt;avg_sc.avggrade;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询选修了学号为9521102同学选修的全部课程的学生学号和姓名 有课程表，学生表，成绩表如下，查询选修了学号为9521102同学选修的全部课程的学生学号和姓名。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.49ko6g8hojq0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,student.sname
from student
where not exists(select * from sc s1
                 where sno='9521102' and not exists(
                     select * from sc
                     where sno = student.sno and cno = s1.cno));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询选课门数最多的学生的学号和姓名 有课程表，学生表，成绩表如下，查询选课门数最多的学生的学号和姓名，结果可能不只一行。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2m5n0xz0au00.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,sname
from sc,student
where student.sno = sc.sno
group by sc.sno
having count(*)&gt;=all(select count(*) from sc group by sno);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询所有人都选修了的课程号与课程名 有课程表，学生表，成绩表如下，查询所有人都选修了的课程号与课程名。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.59lcdz22pgw0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select cno,cname
from course
where not exists(select * from student s1
                 where not exists(select *from sc
                                  where sno = s1.sno and cno = course.cno));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询选修平均分为60分(包括60分)以上的学生的各门课成绩，要求输出学号，姓名，课程名和成绩。 #查询选修平均分为60分(包括60分)以上的学生的各门课成绩，要求输出学号，姓名，课程名和成绩，并按学号升序排序。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.66k4pgnmcvk0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,sname,course.cname,grade
from student,sc,course
where student.sno = sc.sno and sc.cno = course.cno
group by sc.sno
having avg(grade)&gt;=60
order by 1;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询选修未通过2门（包括2门）以上的学生的信息，输出学号、姓名、选修未通过门数，按门数降序排序，若门数相同，按学号升序排序。 #查询选修未通过2门（包括2门）以上的学生的信息，输出学号、姓名、选修未通过门数，按门数降序排序，若门数相同，按学号升序排序。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.w74ucmjo08w.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,sname,count(*)
from student,sc
where student.sno = sc.sno and grade&lt;60
group by sc.sno
having count(*)&gt;=2
order by 3 desc,1;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：统计各门课程选修人数，要求输出课程代号，课程名，有成绩人数（grade不为NULL），最高分，最低分，平均分，按课程号排序。 #统计各门课程选修人数，要求输出课程代号，课程名，有成绩人数（grade不为NULL），最高分，最低分，平均分(取整round函数)，按课程号排序。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.4meguasnq0o0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select course.cno,cname,count(*),max(grade),min(grade),round(avg(grade),0)
from course,sc
where course.cno = sc.cno and grade is not null
group by sc.cno
order by 1;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询同时选修了c01,c02,c03课程学生，输出学号，姓名 #查询同时选修了c01,c02,c03课程学生，输出学号，姓名</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.1p2ma93n3uyo.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,sname
from student
where not exists(select * from course
                 where cno in('c01','c02','c03') and not exists(select * from sc
                                                                where sno = student.sno and cno = course.cno));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询没有同时选修“计算机导论”和“计算机网络”两门课的学生的学号，姓名  #查询没有同时选修“计算机导论”和“计算机网络”两门课的学生的学号，姓名</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.3iyinvdjnli0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,sname
from student
where exists(select * from course
             where cname in('计算机导论','计算机网络') and not exists(select * from sc
                                                            where sno = student.sno and cno = course.cno));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询选修了全部课程的学生的学号，姓名，系名 #查询选修了全部课程的学生的学号，姓名，系名</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.74e88q34yys0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,sname,sdept
from student,sc
where student.sno = sc.sno
group by sc.sno
having count(*)=(select count(*) from course);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询与“王大力”同一个系的学生的基本信息 #查询与“王大力”同一个系的学生的基本信息。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.4jmtlmz6i8o0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select sno,s1.sname,ssex,sage,s1.sdept
from student s1,(select sdept,sname from student where sname='王大力') as s2
where s1.sdept = s2.sdept and s1.sname!='王大力';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询同时选修了“数据库基础”和“计算机网络”两门课的学生的学号，姓名。 #查询同时选修了“数据库基础”和“计算机网络”两门课的学生的学号，姓名。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.20wo7wokxmcg.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,sname
from student
where not exists(select *from course
                 where cname in('数据库基础','计算机网络') and not exists(select *from sc
                                                                where sno = student.sno and cno = course.cno));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询每个男生的选课门数（要求用嵌套查询实现） #查询每个男生的选课门数（要求用嵌套查询实现）要求输出学号、选课门数，并按序号升序排序。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2ln85ztykpc0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select sno,count(sc.cno)
from sc
where sno in (select sno from student where ssex='男')
group by sno
order by 1;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="实验四-数据更新"><a href="#实验四-数据更新" class="headerlink" title="实验四 数据更新"></a><strong>实验四 数据更新</strong></h2><blockquote>
<p><strong>SQL更新：将所有学生的年龄增加1岁 #将所有学生的年龄增加1岁。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.4fll5uiserc0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">update student set sage = sage+1;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>SQL更新：修改“高等数学”课程倒数三名成绩，在原来分数上减5分 #修改“高等数学”课程倒数三名成绩，在原来分数上减5分。 学生数据库db_student包括三个数据表student（学生表）、course（课程表）和sc（选课表）。表结构如下：</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.acwdp19xzo0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">update sc
set grade = grade -5
where cno in(select cno from course where cname = '高等数学') and grade is not null
order by grade
limit 3;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQl更新：将所有平均分为75分以上的学生的各门课成绩在原来基础上加5分 #将所有平均分为75分以上的学生的各门课成绩在原来基础上加5分。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.3yp2w2gh6ew0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">update sc,(select sno,avg(grade) avg_g from sc group by sno) as avg_sc
set grade = grade+5
where sc.sno = avg_sc.sno and avg_sc.avg_g&gt;75;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL更新：修改“王大力”的“计算机导论”课程成绩为70 #修改“王大力”的“计算机导论”课程成绩为70。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.27e4pobb41us.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">update sc
set grade = 70
where sno in (select sno from student where sname = '王大力') and cno in(select cno from course where cname = '计算机导论');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL更新：修改“9512101”的“C01”课程成绩为85 #修改“9512101”的“C01”课程成绩为85。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.1z33g2x5b800.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">update sc
set grade = 85
where sno in(select sno from student where sno = '9512101') and cno in(select cno from course where cno='c01');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL插入：在学生表Student中插入数据 #在学生表Student中插入数据： Sno：9512102    Sname:刘晨     Ssex：男     Sage:20     Sdept：计算机系</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.14efesfhap4w.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">insert into student
values('9512102','刘晨','男','20','计算机系');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL删除：删除“数据库基础”的全部记录（包括课程信息，成绩信息） #删除“数据库基础”的全部记录（包括课程信息，成绩信息）</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.6gifvvvcxq80.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">delete from sc 
where cno in(select cno from course where cname = '数据库基础');
delete from course
where cname = '数据库基础';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL插入：在课程表Course中插入数据 #在课程表Course中插入数据： Cno：C06       Cname：数据结构    Ccredit：5     Semster：4</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.24iubgub00qo.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">insert into course(cno,cname,ccredit,semster)
values('c06','数据结构','5','4');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQl删除：删除“张海”的所有成绩记录 #删除“张海”的所有成绩记录。 学生数据库db_student包括三个数据表student（学生表）、course（课程表）和sc（选课表）。表结构如下：</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.7ewmjgd47po0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">delete from sc
where sno in(select sno from student where sname = '张海');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL插入：在选课表SC中插入95211班学生选修C04的选课信息 #在选课表SC中插入95211班学生选修C04的选课信息。  提示：多行数据插入，插入的数据的sno从student表中查询而来，插入的cno为“C04”</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.57g8vupryrc0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">insert into sc(sno,cno)
select sno,'c04' from student
where sno like '95211%';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL删除：删除“9531102”学生“C05”课程的成绩记录 #删除“9531102”学生“C05”课程的成绩记录。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.3qhhosueu6a0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">delete from sc
where sno in(select sno from student where sno = '9531102') and cno in(select cno from course where cno = 'c05');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>根据employee表中各部门的员工数，更新department表的各对应部门人数 根据employee员工表中各部门的员工数，更新department部门表的各对应部门人数。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2myhmhe2oki0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">update department,(select dept_id,count(*) num from employee group by dept_id) as num_em
set emp_num = num_em.num
where department.dept_id = num_em.dept_id;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<h2 id="课堂练习-视图"><a href="#课堂练习-视图" class="headerlink" title="课堂练习-视图"></a><strong>课堂练习-视图</strong></h2><blockquote>
<p><strong>建立city值为上海、北京的顾客视图 建立city值为上海、北京的顾客视图v_customer，包括顾客号、顾客名、联系人姓名、电话和地址。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.53liea2p2zs0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">create view v_customer
as
select customer_id,customer_name,contact_name,phone,address
from customer&lt;br/&gt;where city in('上海','北京');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>建立城市为上海的客户2016年的订单信息视图 建立城市为上海的客户2016年的订单信息视图v_order，包括顾客号、顾客名、该顾客2016年的订单数及订单总额。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.3b0z0ram2u00.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">create view v_order(customer_id,customer_name,order_num,tot_money)
as
select customer.customer_id,customer_name,count(*),sum(total_money)
from customer,`order`
where customer.customer_id = `order`.customer_id and order_date like '2016%' and city='上海'
group by `order`.customer_id;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="课堂练习-关系代数"><a href="#课堂练习-关系代数" class="headerlink" title="课堂练习-关系代数"></a><strong>课堂练习-关系代数</strong></h2><blockquote>
<p><strong>关系代数-检索LIU老师所授课程的课程号、课程名 设有三个关系：</strong> </p>
<p><strong>S(SNO,SNAME,AGE,SEX)</strong> </p>
<p><strong>SC(SNO,CNO,GRADE)</strong> </p>
<p><strong>C(CNO,CNAME,TEACHER)</strong> </p>
<p><strong>用关系代数表达式表示查询语句：检索LIU老师所授课程的课程号、课程名。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.7guc6vgo8do0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πcno,cname(δteacher='liu'(c))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>关系代数-检索年龄大于23岁的男学生的学号和姓名 设有三个关系：</strong> </p>
<p><strong>S(SNO,SNAME,AGE,SEX)</strong> </p>
<p><strong>SC(SNO,CNO,GRADE)</strong></p>
<p><strong>C(CNO,CNAME,TEACHER)</strong></p>
<p><strong>用关系代数表达式表示查询语句：检索年龄大于23岁的男学生的学号和姓名。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.49m5cla9r2e0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πsno,sname(δage&gt;23^sex='男'(s))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>关系代数-检索讲授课程名为C语言的教师的姓名 设有三个关系：<br>S(SNO,SNAME,AGE,SEX)<br><br>SC(SNO,CNO,GRADE)<br><br>C(CNO,CNAME,TEACHER)<br><br>用关系代数表达式表示查询语句：检索讲授课程名为C语言的教师的姓名。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.1f6djmjztqg0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πteacher(δcname='c语言'(c))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>关系代数-检索成绩在50-60之间的学生的学号和课程号<br>设有三个关系：<br><br>S(SNO,SNAME,AGE,SEX)<br><br>SC(SNO,CNO,GRADE)<br><br>C(CNO,CNAME,TEACHER)<br><br>用关系代数表达式表示查询语句：检索成绩在50-60之间的学生的学号和课程号。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.4087xaxxycm0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πsno,cno(δgrade&gt;=50^grade&lt;=60(sc))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>关系代数-检索选修课程名为C语言的学号、成绩<br>设有三个关系：<br><br>S(SNO,SNAME,AGE,SEX)<br><br>SC(SNO,CNO,GRADE)<br><br>C(CNO,CNAME,TEACHER)<br><br>用关系代数表达式表示查询语句：检索选修课程名为《C语言》的学号、成绩。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.6d4jjidvh0c0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πsno,grade(δcname='c语言'(c)∞SC)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>关系代数-检索至少选修1号课程和3号课程的学生号码<br>设有三个关系：<br><br>S(SNO,SNAME,AGE,SEX)<br><br>SC(SNO,CNO,GRADE)<br><br>C(CNO,CNAME,TEACHER)<br><br>用关系代数表达式表示查询语句：检索至少选修1号课程和3号课程的学生号码。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.5nv4nk4s14w0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πsno,cno(SC)÷πcno((δcno='c1'∨cno='c3(C)))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>关系代数-检索至少选修1号课程和3号课程的学生号码和姓名<br>设有三个关系：<br><br>S(SNO,SNAME,AGE,SEX)<br><br>SC(SNO,CNO,GRADE)<br><br>C(CNO,CNAME,TEACHER)<br><br>用关系代数表达式表示查询语句：检索至少选修1号课程和3号课程的学生号码和姓名。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.13lrwgvvr1pc.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">(πsno,cno(SC)÷πcno((δcno='1'∨cno='3(C))))∞πsno,sname(S)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h2 id="关系代数2"><a href="#关系代数2" class="headerlink" title="关系代数2"></a><strong>关系代数2</strong></h2><blockquote>
<p><strong>设有四个关系：学生关系S(SNO,SNAME,SSEX,SAGE,SDEPT,SSPECIAL)；</strong><br><strong>课程关系C(CNO,CNAME,CCREDIT,CDEPT,CPRECNO,TNO)；</strong><br><strong>教师关系T(TNO,TNAME,TSEX,TSPECIAL)；</strong><br><strong>学习关系SC(SNO,CNO,GRADE)；</strong></p>
<p><strong>其中各属性和含义是：</strong><br><strong>学号(SNO),姓名(SNAME),性别(SSEX),年龄(SAGE),所在系(SDEPT),所在专业(SSPECIAL),</strong><br><strong>课程号(CNO),课程名(CNAME),学分(CCREDIT),开课系(CDEPT),先修课程号(CPRECNO),</strong><br><strong>教师编号(TNO),教师姓名(TNAME),教师性别(TSEX),从事专业(TSPECIAL),成绩(GRADE)。</strong></p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">#1.查询自控和计算机专业学生的学号、姓名。
πsno,sname(σSSPECIAL='自控' ∪ SSPECIAL='计算机'(S))

#2.产生学生成绩表，包括学号、姓名、课程名、学分和成绩。
πsno,sname,cname,CCREDIT,GRADE(S∞SC∞C)

#3.检索选择了课程号为“C2”的学生学号和姓名。
πsno,sname(σcno='C2'(SC∞S))

#4.检索李强同学不学的课程编号。
πcno(C)-π cno(σsname='李强'(SC∞S))

#5.检索没有上数据库原理课程的教师的教师号、教师姓名。
πTNO,TNAME(T) - π TNO,TNAME(σcname='数据库原理'(C∞T))

#6.检索学习全部课程的学生的姓名。
πsname((πcno,sno(SC)÷π cno(C))∞S)

#7.检索选修了“王林”老师所上的全部课程的学生学号。
πsno,cno(SC)÷π cno(σtname='王林'(T∞C))

#8.检索选修了计算机系开设的全部课程的学生学号和姓名。
πsno,cno,sname(SC∞S)÷π cno(σcdept='计算机'(C))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>











<h2 id="课堂测试4-子查询及数据更新"><a href="#课堂测试4-子查询及数据更新" class="headerlink" title="课堂测试4-子查询及数据更新"></a><strong>课堂测试4-子查询及数据更新</strong></h2><blockquote>
<p><strong>修改borrow表增加一列；修改日期数据（两条语句完成） 修改borrow表增加借书日期bdate列，列类型为datetime；  将机械系的同学的借书日期值修改为还书日期的前两个月的时间。 用两条语句完成，日期的修改可以用date_add( )或adddate(  )。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.33vl5x2p94u0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">alter table borrow
add column bdate datetime;
update borrow
set bdate = date_add(rdate,interval -2 month)
where cno in(select cno from card where deptname='机械系');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL更新：删除-删除“吴宾”的所有成绩记录 有student、course、sc表；删除“吴宾”的所有成绩记录。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.6fdodm4l7gc0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">delete from sc
where sno in(select sno from student where sname='吴宾');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询没有被订购的商品 #查询没有被订购的商品，输出商品id，商品名称，类别id，按照类别排序。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.3e7hifjctok0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select product_id,product_name,category_id
from product
where not exists(select *from order_detail
                 where product_id=product.product_id)
                 order by 3;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>插入图书信息 将图书信息插入到book表中，其中书号 7, 书名 组合数学, 作者 刘迪, 价格 36.70, 数量 37</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.hioez036xc0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">insert into book
values('7','组合数学','刘迪','36.70','37');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询现有图书中价格最高的图书信息 查询现有图书中价格最高的图书（可能不止一种书），输出书名及作者。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.1nvam508vr4w.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select bname,author
from book
where price = (select max(price) from book);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>向student表中一次插入多行数据 一次向student表中插入两条记录，其中王大力的系别用缺省值赋值。  两行数据的学号，姓名，性别，年龄和系别分别如下： 9520103,王敏,女,20,信息系; 9520104,王大力,男,19。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.7fnzyuqfeh40.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">insert into student values
('9520103','王敏','女','20','信息系'),
('9520104','王大力','男','19',default);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>插入计算机系学生C01课程的选课记录。 在sc表中插入计算机系所有学生C01课程的选课记录。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.isk8xg5mag0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">insert into sc(sno,cno)
select sno,'c01' from student
where sdept = '计算机系';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>查询所有人都借阅过的图书信息 查询所有人都借阅过的图书信息，列出书号，书名，作者。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.kxd47zbm1do.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select book.bno,bname,author
from book
where not exists(select * from card
                 where not exists(select * from borrow
                                  where borrow.bno = book.bno and borrow.cno = card.cno));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL更新：修改-“张海”的“计算机导论”课程成绩为70。 有student、course、sc表；修改“张海”的“计算机导论”课程成绩为70。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.6vwznqouf7g0.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">update sc
set grade = 70
where sno in(select sno from student where sname = '张海') and cno in(select cno from course where cname = '计算机导论');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>借了”计算方法”，但没有借”计算方法习题集”的读者，输出其借书卡号 查询当前借了”计算方法”，但没有借”计算方法习题集”的读者，输出其借书卡号，并按卡号降序排序输出</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.y49843tyiq8.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select a.cno
from borrow a,book b
where a.bno = b.bno and b.bname = '计算方法'
and not exists(select * from borrow aa,book bb
               where aa.bno = bb.bno and bb.bname = '计算方法习题集' and aa.cno = a.cno)
               order by 1 desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>SQL查询：查询每个学生高于他自己选修平均分的那门课程的成绩，输出学号，课程号，课程成绩，他所有课程的平均分，并按学号升序排列 #查询每个学生高于他自己选修平均分的那门课程的成绩，输出学号，课程号，课程成绩，他所有课程的平均分(取整)，并按学号升序排列。</strong></p>
</blockquote>
<p><strong><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.gewcsmh2860.webp"></strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">SELECT sc.sno,cno,grade,avggrade 
FROM sc,(SELECT sno,ROUND(AVG(grade)) AS avggrade FROM sc GROUP BY sno) AS avg_sc
WHERE sc.sno=avg_sc.sno AND sc.grade&gt;avg_sc.avggrade
ORDER BY sc.sno;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>





<h2 id="课堂练习5-关系代数2"><a href="#课堂练习5-关系代数2" class="headerlink" title="课堂练习5-关系代数2"></a>课堂练习5-关系代数2</h2><blockquote>
<p><strong>1.</strong> 关系代数-检索学习课程号为C2的学生的学号和成绩</p>
<p>设有三个关系：</p>
<p>S(SNO,SNAME,AGE,SEX)</p>
<p>SC(SNO,CNO,GRADE)</p>
<p>C(CNO,CNAME,TEACHER)</p>
<p>用关系代数表达式表示查询语句：<strong>检索学习课程号为C2的学生的学号和成绩。</strong></p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πsno,grade(δcno='c2'(SC))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>





<blockquote>
<p><strong>2.</strong> 关系代数-检索学习课程号为C2的学生的学号与姓名</p>
<p>设有三个关系：</p>
<p>S(SNO,SNAME,AGE,SEX)</p>
<p>SC(SNO,CNO,GRADE)</p>
<p>C(CNO,CNAME,TEACHER)</p>
<p>用关系代数表达式表示查询语句：<strong>检索学习课程号为C2的学生的学号与姓名。</strong></p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πsno,sname(δsno='c2'(SC∞S))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>3.</strong> 关系代数-检索没有学习课程号为C2的学生的学号与姓名</p>
<p>设有三个关系：</p>
<p>S(SNO,SNAME,AGE,SEX)</p>
<p>SC(SNO,CNO,GRADE)</p>
<p>C(CNO,CNAME,TEACHER)</p>
<p>用关系代数表达式表示查询语句：<strong>检索没有学习课程号为C2的学生的学号与姓名。</strong></p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πsno,sname(S)-πsno,sname(δcno='c2'(SC)∞S)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>4.</strong> 关系代数-检索选修课程名为Maths的学生的学号与姓名</p>
<p>设有三个关系：</p>
<p>S(SNO,SNAME,AGE,SEX)</p>
<p>SC(SNO,CNO,GRADE)</p>
<p>C(CNO,CNAME,TEACHER)</p>
<p>用关系代数表达式表示查询语句：<strong>检索选修课程名为Maths的学生的学号与姓名。</strong></p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πsno,sname(δcname='Maths'(S∞SC∞C))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>5.</strong> 关系代数-检索选修课程号为C2或C4的学生的学号</p>
<p>设有三个关系：</p>
<p>S(SNO,SNAME,AGE,SEX)</p>
<p>SC(SNO,CNO,GRADE)</p>
<p>C(CNO,CNAME,TEACHER)</p>
<p>用关系代数表达式表示查询语句：<strong>检索选修课程号为C2或C4的学生的学号。</strong></p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πsno(δcno='c2'∨cno='c4'(SC))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>6.</strong> 关系代数-检索至少选修课程号为C2和C4的学生的学号</p>
<p>设有三个关系：</p>
<p>S(SNO,SNAME,AGE,SEX)</p>
<p>SC(SNO,CNO,GRADE)</p>
<p>C(CNO,CNAME,TEACHER)</p>
<p>用关系代数表达式表示查询语句：<strong>检索至少选修课程号为C2和C4的学生的学号。</strong></p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πsno,cno(SC)÷πcno(δcno='c2'∨cno='c4'(C)）<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>7.</strong> 关系代数-检索学习全部课程的学生的姓名</p>
<p>设有三个关系：</p>
<p>S(SNO,SNAME,AGE,SEX)</p>
<p>SC(SNO,CNO,GRADE)</p>
<p>C(CNO,CNAME,TEACHER)</p>
<p>用关系代数表达式表示查询语句：<strong>检索学习全部课程的学生的姓名。</strong></p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πsname((πsno,cno(SC)÷πcno(C))∞S)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<blockquote>
<p><strong>8.</strong> 关系代数-检索所学课程包含学生S3所学课程的学生的学号</p>
<p>设有三个关系：</p>
<p>S(SNO,SNAME,AGE,SEX)</p>
<p>SC(SNO,CNO,GRADE)</p>
<p>C(CNO,CNAME,TEACHER)</p>
<p>用关系代数表达式表示查询语句：<strong>检索所学课程包含学生S3所学课程的学生的学号。</strong></p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πsno,cno(SC)÷ πcno(δsno='s3'(SC)）<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h2 id="课堂测试5-关系数据库"><a href="#课堂测试5-关系数据库" class="headerlink" title="课堂测试5-关系数据库"></a>课堂测试5-关系数据库</h2><blockquote>
<p><strong>1.</strong> 关系代数表：查询自控和计算机专业学生的学号、姓名</p>
<p>设有四个关系：学生关系S(SNO,SNAME,SSEX,SAGE,SDEPT,SSPECIAL)；课程关系C(CNO,CNAME,CCREDIT,CDEPT,CPRECNO,TNO)；教师关系T(TNO,TNAME,TSEX,TSPECIAL)；学习关系SC(SNO,CNO,GRADE)；</p>
<p>其中各属性和含义是：学号(SNO),姓名(SNAME),性别(SSEX),年龄(SAGE),所在系(SDEPT),所在专业(SSPECIAL),课程号(CNO),课程名(CNAME),学分(CCREDIT),开课系(CDEPT),先修课程号(CPRECNO),教师编号(TNO),教师姓名(TNAME),教师性别(TSEX),从事专业(TSPECIAL),成绩(GRADE)。</p>
<p>请用关系代数表达式表示查询任务：查询自控和计算机专业学生的学号、姓名。</p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πsno,sname(δSSPECIAL='自控'∪SSPECIAL='计算机'(S))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>2.</strong> 关系代数：检索至少选修两门课程的学生学号和姓名</p>
<p>设有四个关系：</p>
<p>学生关系：S(SNO,SNAME,SSEX,SAGE,SDEPT,SSPECIAL)；</p>
<p>课程关系：C(CNO,CNAME,CCREDIT,CDEPT,CPRECNO,TNO)；</p>
<p>教师关系：T(TNO,TNAME,TSEX,TSPECIAL)；</p>
<p>学习关系：SC(SNO,CNO,GRADE)；</p>
<p>其中各属性和含义是：</p>
<p>学号(SNO),姓名(SNAME),性别(SSEX),年龄(SAGE),所在系(SDEPT),所在专业(SSPECIAL)</p>
<p>课程号(CNO),课程名(CNAME),学分(CCREDIT),开课系(CDEPT),先修课程号(CPRECNO)</p>
<p>教师编号(TNO),教师姓名(TNAME),教师性别(TSEX),从事专业(TSPECIAL),成绩(GRADE)</p>
<p>请用关系代数表达式表示查询任务：<strong>检索至少选修两门课程的学生学号和姓名</strong>。</p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πsno,sname(δ(1=4∧2!=5)(C×C))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>3.</strong> 关系代数：检索选修了“王林”老师所上的全部课程的学生学号。</p>
<p>设有四个关系：学生关系S(SNO,SNAME,SSEX,SAGE,SDEPT,SSPECIAL)；课程关系C(CNO,CNAME,CCREDIT,CDEPT,CPRECNO,TNO)；教师关系T(TNO,TNAME,TSEX,TSPECIAL)；学习关系SC(SNO,CNO,GRADE)；</p>
<p>其中各属性和含义是：学号(SNO),姓名(SNAME),性别(SSEX),年龄(SAGE),所在系(SDEPT),所在专业(SSPECIAL),课程号(CNO),课程名(CNAME),学分(CCREDIT),开课系(CDEPT),先修课程号(CPRECNO),教师编号(TNO),教师姓名(TNAME),教师性别(TSEX),从事专业(TSPECIAL),成绩(GRADE)。</p>
<p>请用关系代数表达式表示查询任务：检索选修了“王林”老师所上的全部课程的学生学号。</p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πsno,cno(SC)÷πcno(δtname='王林'(T∞C))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>4.</strong> 关系代数：检索选修了计算机系开设的全部课程的学生学号和姓名。</p>
<p>设有四个关系：</p>
<p>学生关系：S(SNO,SNAME,SSEX,SAGE,SDEPT,SSPECIAL)；</p>
<p>课程关系：C(CNO,CNAME,CCREDIT,CDEPT,CPRECNO,TNO)；</p>
<p>教师关系：T(TNO,TNAME,TSEX,TSPECIAL)；</p>
<p>学习关系：SC(SNO,CNO,GRADE)；</p>
<p>其中各属性和含义是：</p>
<p>学号(SNO),姓名(SNAME),性别(SSEX),年龄(SAGE),所在系(SDEPT),所在专业(SSPECIAL)</p>
<p>课程号(CNO),课程名(CNAME),学分(CCREDIT),开课系(CDEPT),先修课程号(CPRECNO)</p>
<p>教师编号(TNO),教师姓名(TNAME),教师性别(TSEX),从事专业(TSPECIAL),成绩(GRADE)</p>
<p>请用关系代数表达式表示查询任务：<strong>检索选修了计算机系开设的全部课程的学生学号和姓名</strong>。</p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πsno,cno,sname(SC∞S)÷πcno(δcdept='计算机'(C))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>5.</strong> 关系代数：检索所有参加 了“数据库原理”课程考试的学生学号、成绩。</p>
<p>设有四个关系：学生关系S(SNO,SNAME,SSEX,SAGE,SDEPT,SSPECIAL)；课程关系C(CNO,CNAME,CCREDIT,CDEPT,CPRECNO,TNO)；教师关系T(TNO,TNAME,TSEX,TSPECIAL)；学习关系SC(SNO,CNO,GRADE)；</p>
<p>其中各属性和含义是：学号(SNO),姓名(SNAME),性别(SSEX),年龄(SAGE),所在系(SDEPT),所在专业(SSPECIAL),课程号(CNO),课程名(CNAME),学分(CCREDIT),开课系(CDEPT),先修课程号(CPRECNO),教师编号(TNO),教师姓名(TNAME),教师性别(TSEX),从事专业(TSPECIAL),成绩(GRADE)。</p>
<p>请用关系代数表达式表示查询任务：检索所有参加了“数据库原理”课程考试的学生学号和姓名。</p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πtno,tname(σcname='数据库原理'(C∞T))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>6.</strong> 关系代数：检索选择了课程号为“C2”的学生学号和姓名。</p>
<p>设有四个关系：学生关系S(SNO,SNAME,SSEX,SAGE,SDEPT,SSPECIAL)；课程关系C(CNO,CNAME,CCREDIT,CDEPT,CPRECNO,TNO)；教师关系T(TNO,TNAME,TSEX,TSPECIAL)；学习关系SC(SNO,CNO,GRADE)；</p>
<p>其中各属性和含义是：学号(SNO),姓名(SNAME),性别(SSEX),年龄(SAGE),所在系(SDEPT),所在专业(SSPECIAL),课程号(CNO),课程名(CNAME),学分(CCREDIT),开课系(CDEPT),先修课程号(CPRECNO),教师编号(TNO),教师姓名(TNAME),教师性别(TSEX),从事专业(TSPECIAL),成绩(GRADE)。</p>
<p>请用关系代数表达式表示查询任务：检索选择了课程号为“C2”的学生学号和姓名。</p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πsno,sname(δcno='C2'(SC∞S))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>7.</strong> 关系代数：产生学生成绩表，包括学号、姓名、课程名、学分和成绩。</p>
<p>设有四个关系：学生关系S(SNO,SNAME,SSEX,SAGE,SDEPT,SSPECIAL)；课程关系C(CNO,CNAME,CCREDIT,CDEPT,CPRECNO,TNO)；教师关系T(TNO,TNAME,TSEX,TSPECIAL)；学习关系SC(SNO,CNO,GRADE)。</p>
<p>其中各属性和含义是：学号(SNO),姓名(SNAME),性别(SSEX),年龄(SAGE),所在系(SDEPT),所在专业(SSPECIAL),课程号(CNO),课程名(CNAME),学分(CCREDIT),开课系(CDEPT),先修课程号(CPRECNO),教师编号(TNO),教师姓名(TNAME),教师性别(TSEX),从事专业(TSPECIAL),成绩(GRADE)。</p>
<p>试用关系代数表达式表示查询任务：产生学生成绩表，包括学号、姓名、课程名、学分和成绩。</p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πsno,sname,cname,CCREDIT,GRADE(S∞SC∞C)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>8.</strong> 关系代数：检索李强同学不学的课程编号.</p>
<p>设有四个关系：学生关系S(SNO,SNAME,SSEX,SAGE,SDEPT,SSPECIAL)；课程关系C(CNO,CNAME,CCREDIT,CDEPT,CPRECNO,TNO)；教师关系T(TNO,TNAME,TSEX,TSPECIAL)；学习关系SC(SNO,CNO,GRADE)；</p>
<p>其中各属性和含义是：学号(SNO),姓名(SNAME),性别(SSEX),年龄(SAGE),所在系(SDEPT),所在专业(SSPECIAL),课程号(CNO),课程名(CNAME),学分(CCREDIT),开课系(CDEPT),先修课程号(CPRECNO),教师编号(TNO),教师姓名(TNAME),教师性别(TSEX),从事专业(TSPECIAL),成绩(GRADE)。</p>
<p>请用关系代数表达式表示查询任务：检索李强同学不学的课程编号。</p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πcno(C)-πcno(δsname='李强'(SC∞S))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h2 id="课堂测试6-综合测试"><a href="#课堂测试6-综合测试" class="headerlink" title="课堂测试6-综合测试"></a><strong>课堂测试6-综合测试</strong></h2><blockquote>
<p>判断关系所属范式（1NF、2NF、3NF、BCNF）,若R(W,X,Y,Z) FD={X→Z,WX→Y}，则该关系模式的候选码为 (W,X)     (如果关系包含多个码，请全部写出，用逗号分隔开来)，R∈ 1 NF。</p>
</blockquote>
<blockquote>
<p>设有关系为R(A,B,C,D,E,F)，它的最小函数依赖集为FD={A-&gt;B,A-&gt;C,D-&gt;E,E-&gt;F}，则该关系的候选码为 (A,E)（若有多个，用逗号隔开），属于第 2 范式。</p>
</blockquote>
<blockquote>
<p><strong>1.</strong> 求至少用了供应商S3所供应的全部零件的工程项目代码</p>
<p>设有SPJ数据库，包括S,P,J,SPJ4个关系：</p>
<p>S(SNO,SNAME,STATUS,CITY)  供应商表：供应商代码，供应商姓名，供应商状态，所在城市</p>
<p>P(PNO,PNAME,COLOR,WEIGHT)  零件表：零件代码，零件名称，颜色，重量</p>
<p>J(JNO,JNAME,CITY)  工程项目表：工程项目代码，工程项目名，工程项目所在城市</p>
<p>SPJ(SNO,PNO,JNO,QTY)  供应情况表：供应商代码，零件代码，工程项目代码，供应数量</p>
<p>请用关系代数表达查询：求至少用了供应商S3所供应的全部零件的工程项目代码。</p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πjno,sno,pno(SPJ)÷πsno,pno(δsno='s3'(SPJ) )<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>2.</strong> 检索没有上数据库原理课程的教师的教师号、教师姓名</p>
<p>设有四个关系：</p>
<p>学生关系S(SNO,SNAME,SSEX,SAGE,SDEPT,SSPECIAL)，属性含义为学号(SNO),姓名(SNAME),性别(SSEX),年龄(SAGE),所在系(SDEPT),所在专业(SSPECIAL)；</p>
<p>课程关系C(CNO,CNAME,CCREDIT,CDEPT,CPRECNO,TNO)，属性含义为：课程号(CNO),课程名(CNAME),学分(CCREDIT),开课系(CDEPT),先修课程号(CPRECNO),教师编号(TNO)；</p>
<p>教师关系T(TNO,TNAME,TSEX,TSPECIAL)，属性含义为： 教师编号(TNO) ,教师姓名(TNAME),教师性别(TSEX),从事专业(TSPECIAL)；</p>
<p>学习关系SC(SNO,CNO,GRADE)，属性含义为：学号(SNO),课程号(CNO),成绩(GRADE)。</p>
<p>请用关系代数表达式表示查询任务：检索没有上数据库原理课程的教师的教师号、教师姓名。</p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πtno,tname(T) - πtno,tname(σcname='数据库原理'(C∞T))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p><strong>3.</strong> 规范化模式分解——教学关系（学号，姓名，年龄，性别，系别，系主任，课程名，成绩）</p>
<p>已知关系模式：教学（学号，姓名，年龄，性别，系别，系主任，课程名，成绩），一个学生隶属一个系，一个学生可以选修若干门课，选修的课程只有一个成绩，一个系只有一个系主任。</p>
<p>请分析关系模式，回答下列问题：</p>
<p>（1）写出关系的函数依赖集，并确定关系的候选码；</p>
<p>（2）分析关系模式的范式等级（说明理由）；</p>
<p>（3）若未达到第3范式，请进行模式分解规范到第3范式。</p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">（1）依赖集:
学号-&gt;姓名，年龄，性别，系别，课程名，成绩
系别-&gt;系主任
候选码：（学号，系别）

（2）1NF,存在非主属性学生姓名对码（学号，系别）的部分函数依赖

（3）
学生（学号，姓名，年龄，性别）
系别（系名，系主任）
选课（学号，课程，成绩）
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>4.</strong> 画E-R图并将其转换为关系模型</p>
<p>设有一局部应用，包括 3 个实体“科室”，“医生”，“病人”，且有以下事实：每位医生属于且仅属于一个科室；每个科室可以聘用若干医生，对每个医生聘用时存有聘用期限和聘用日期；一个病人可以由不同的医生为其诊断，每个医生可以为若干病人诊治，每次诊断存有就诊日期。设科室的属性包括科室代码，科室名称；医生的属性包括工号，姓名和职称；病人的属性包括病历号、姓名、年龄。</p>
<p>（1）试画出这个数据库的E-R图。</p>
<p>（2）转化为适当的关系模型，并给出关系的主码和外码。</p>
</blockquote>
<p>（1）</p>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/image.6ch0cwuorco0.webp"></p>
<p>（2）关系模型，下划线主码，斜体外码</p>
<p>科室（<u>科室代码</u>，<em>科室名称</em>）</p>
<p>医生（<u>工号</u>，<em>姓名</em>，职称，聘用日期，聘用期限，科室）</p>
<p>病人（<u>病历号</u>，<em>姓名</em>，年龄）</p>
<p>就诊（<u>医生工号，<em>病历号</em></u>，就诊日期）</p>
<blockquote>
<p><strong>1.</strong> 在学生表student上创建触发器，修改学生班级号，同步更新班级表class中对应班级人数</p>
<p>在学生表student上创建触发器，修改学生班级号，同步更新班级表class中对应班级人数。</p>
<p>表结构定义如下：</p>
<p>班级表class：</p>
<p>classno char(7) 班级号，主键,</p>
<p>classname char(20) 班级名</p>
<p>number int 班级人数。</p>
<p>学生表student：</p>
<p>no char(9) 学号，主键；</p>
<p>name char(10) 姓名；</p>
<p>sex enum(‘男’,’女’) 性别；</p>
<p>age SMALLINT 年龄；</p>
<p>classno char(7) 班级号，外键（取值参照class的classno）。</p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">delimiter $$
create trigger update_stu
after update on student
for each row
begin 
update class set number=number+1 where classno=new.classno;
update class set number=number-1 where classno=old.classno;
end
$$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<h4 id="2-存储过程：返回学生总数，男生人数，女生人数"><a href="#2-存储过程：返回学生总数，男生人数，女生人数" class="headerlink" title="2. 存储过程：返回学生总数，男生人数，女生人数"></a>2. 存储过程：返回学生总数，男生人数，女生人数</h4><p>#存储过程 tj_rs：根据系名，统计该系学生总数，男生人数，女生人数。</p>
<p>[注意：SQL表名请用小写]</p>
<p>学生数据库db_student包括三个数据表student（学生表）、course（课程表）和sc（选课表）。表结构如下：</p>
<p>1、student（学生表）：</p>
<p>SNO学号CHAR(7)</p>
<p>SNAME姓名CHAR(10)</p>
<p>SSEX性别CHAR(2)</p>
<p>SAGE年龄SMALLINT</p>
<p>SDEPT所在系 VARCHAR(20)</p>
<p>2、course（课程表）</p>
<p>CNO课程号CHAR(10) </p>
<p>CNAME课程名VARCHAR(20)</p>
<p>CCREDIT学分SMALLINT</p>
<p>SEMSTER学期SMALLINT</p>
<p>PERIOD学时SMALLINT</p>
<p>3、sc（选课表）</p>
<p>SNO 学号CHAR(7)</p>
<p>CNO 课程号CHAR(10)</p>
<p>GRADE  绩 SMALLINT</p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">delimiter $$
create PROCEDURE tj_rs(in msdept varchar(20),out suma int,out sumb int,out sumc int)
begin
select count(sno) from student
where msdept=sdept
into suma;
select count(sno) from student
where msdept=sdept and ssex='男'
into sumb;
select count(sno) from student
where msdept=sdept and ssex='女'
into sumc;
end $$
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>3.</strong> 创建部门表</p>
<p><strong>创建部门表：dept，表结构如下：</strong></p>
<p>1、部门编号：dno 字符型（3） 主码，</p>
<p>2、部门名称：dname 字符型（20） 不允许为空，</p>
<p>3、负责人：mgr 字符型（5）外码参照职工表emp的eno，设置删除规则为限制、更新规则为级联。</p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">create table dept(
dno char(3) primary key,
dname char(20) not null,
mgr char(5),
FOREIGN key (mgr) REFERENCES emp(eno) ON UPDATE CASCADE ON DELETE CASCADE
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>4.</strong> 修改部门表</p>
<p><strong>修改部门表dept：</strong></p>
<p>添加约束：为部门负责人mgr添加外码约束，参照员工emp表的员工编号列eno：并设置规则为：删除限制，更新级联。</p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">alter table dept 
add foreign key (mgr) references emp(eno) on delete restrict on update cascade;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>5.</strong> 查询销售总数最多的产品信息，输出产品号、产品名称、产品编码</p>
<p>查询销售总数最多的产品信息，输出产品id、产品名称、产品编码</p>
<p>订单表<code>order</code></p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/image.i4fsnyopryg.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select product.product_id,product_name,product_code from product,order_detail
where product.product_id=order_detail.product_id
group by product.product_id
having sum(buy_number)=(select sum(buy_number) from order_detail,product
                                  where order_detail.product_id=product.product_id
                                  group by product.product_id
                                  order by sum(buy_number) desc
                                  limit 1);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>6.</strong> 查询图书信息和学生信息</p>
<p>查询图书信息和学生信息，包括No，Name，Type（图书/学生）。</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/image.6jsawaxnjgc0.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select cno as No,name as 'Name','学生'Type from card 
union
select bno as No,bname as 'Name','图书'Type from book;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>7.</strong> 查询借阅信息，要求输出卡号，姓名，借阅书数，书名列表</p>
<p>查询借阅信息，要求输出卡号，姓名，借阅书数，书名列表（按书名升序排列，用下划线_分隔），按照卡号升序排序。</p>
<p>表结构如下：</p>
<p>card(借书卡) 表：cno 卡号，name 姓名，class 班级</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/image.50jtlhpa3a80.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select card.cno,name,count(*),
Group_CONCAT(bname order by bname separator '_')
from card,book,borrow
where card.cno=borrow.cno
and book.bno=borrow.bno
group by card.cno
order by card.cno;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p><strong>8.</strong> 建立视图查看学号，姓名、课程号，课程名、成绩</p>
<p>建立视图v_sc，通过视图可以查询计算机系学生的成绩信息，包括学号，姓名、课程号，课程名、成绩。<br>基本表student:</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/image.4f5u0dnaay20.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">create view v_sc(sno,sname,cno,cname,grade)
as
select student.sno,sname,course.cno,cname,grade
from student,course,sc
where student.sno = sc.sno and course.cno = sc.cno and sdept='计算机系';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>9.</strong> 由视图删除数据</p>
<p>从视图v_student_c(sno,sname,sage)，删除学号为9521101的学生基本信息。<br>表名、视图名请用小写。</p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">delete from v_student_c
where Sno='9521101';
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<blockquote>
<p><strong>10.</strong> 查询计算机系平均成绩前三名的学号，姓名、平均成绩</p>
<p>有课程表，学生表，成绩表如下，查询计算机系平均成绩前三名的学号，姓名、平均成绩。</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/image.1lz24vxmim00.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select student.sno,sname,avg(grade)
from student,sc
where student.sno=sc.sno and sdept='计算机系'
group by sc.sno
order by 3 desc
limit 3;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>11.</strong> 查询每个同学超过该课程平均分的成绩信息</p>
<p>有课程表，学生表，成绩表如下，查询每个同学超过该课程平均分的成绩信息，输出学号，课程号，成绩及课程平均成绩。</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/image.73q08unzqzs0.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select sno,sc.cno,grade,avggrade from sc,(
   select cno,avg(grade) as avggrade
   from sc
   group by cno)as avg_sc
where sc.cno=avg_sc.cno
and grade&gt;avggrade;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p>12.统计各级职位(不含NULL)员工人数，按照人数降序排列。</p>
<p>统计各级职位(不含NULL)员工人数，按照人数降序排列。输出职位，人数。</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/image.6gxwel82egg0.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select job_title,count(*)
from employee where job_title is not null 
group by job_title
order by count(*) desc;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>







<h2 id="实验五-视图与完整性约束"><a href="#实验五-视图与完整性约束" class="headerlink" title="实验五 视图与完整性约束"></a><strong>实验五 视图与完整性约束</strong></h2><blockquote>
<p>SQL视图：建立视图AVG_CJ<br>#建立视图avg_cj，视图包括学生的学号以及他们的平均成绩(取整)，按成绩降序排列。</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.d9v19hjtxnc.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">create view avg_cj
as
select sno,round(avg(grade))
from sc
group by sno
order by 2 desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p>SQL视图：建立视图IS_STUDENT<br>#建立视图is_student,视图中包含信息系全体学生的基本信息。（要求限制更新）</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.3tosjcmy8tw0.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">create view is_student
as
select * from student where sdept='信息系'
with check option;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p>#SQL视图：根据视图CJ_STUDENT创建视图CJ_TJ  #已建有视图cj_student,视图中包含所有成绩不及格(含没有成绩)的学生的学号，姓名，课程名，成绩，按成绩降序排序。</p>
<p>根据视图cj_student创建视图cj_tj，包含课程名，不及格人数，不及格人姓名列表（以 | 分割），按照不及格人数降序排列。</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.7hokey1ts9s0.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">create view cj_tj
as 
select cname,count(*),group_concat(sname separator '|')
from cj_student
group by cname
order by count(*) desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p>SQl视图：建立视图CJ_STUDENT  #建立视图cj_student,视图中包含所有成绩不及格(含没有成绩)的学生的学号，姓名，课程名，成绩，按成绩降序排序。</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.4jjo652bwxa0.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">create view cj_student
as
select sc.sno,sname,cname,grade
from student,course,sc
where sc.sno = student.sno and sc.cno = course.cno and (grade&lt;60 or grade is null)
order by grade desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="课堂练习-触发器"><a href="#课堂练习-触发器" class="headerlink" title="课堂练习-触发器"></a><strong>课堂练习-触发器</strong></h2><blockquote>
<p>​	创建商品价格修改记录表  创建商品价格修改记录表：price_log，表结构如下：</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.67xybsmgql80.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">create table price_log(
    id int not null primary key auto_increment comment '记录号',
      product_id int unsigned not null comment '产品号',
      price decimal(10,2) comment '价格',
      update_time timestamp not null default current_timestamp on update current_timestamp comment '更新时间',
      foreign key(product_id) references product(product_id)
      on update cascade
    on delete cascade
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p>创建触发器，当更改商品价格(price列)时，记录价格  创建触发器，当更改商品product表的价格(price列)时，要将老的价格记录在一个名为price_log的表中。</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.3hc4nj1jbmi0.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">delimiter $
create trigger up_product 
before update
on product
for each row
begin
    if(old.price!=new.price) then
        insert price_log(product_id,price)
        values (old.product_id,old.price);
    end if;
end $<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p>SQL触发器：插入新员工时，同步更新部门表相应人数   创建触发器，插入新员工时，同步更新部门表相应人数。</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.5o3w4sjnpj80.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">delimiter $
create trigger up_number
after insert on employee
for each row
begin
    update department
    set emp_num = COALESCE(emp_num,0)+1
    where dept_id=new.dept_id;
end $    <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="实验六-触发器与存储过程"><a href="#实验六-触发器与存储过程" class="headerlink" title="实验六 触发器与存储过程"></a><strong>实验六 触发器与存储过程</strong></h2><blockquote>
<p><strong>1. SQL触发器：删除学生数据</strong>  #创建触发器，删除学生数据时，将删除的数据备份到数据表student_bf，以备误删除时进行数据恢复。</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.26srig4u708w.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">delimiter $$
create trigger students
before delete on student
for each row
begin
insert into student_bf select * from student
where sno=old.sno;
end;$$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>2.</strong> SQL触发器：创建成绩表插入触发器</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.22gsp8lax98g.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">delimiter $
create trigger t1 
before insert on sc for each row 
begin
if new.grade &gt; 100 or new.grade &lt; 0 then set new.grade=0;
end if;
end$
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>3.</strong> SQL存储过程：查询订单  #创建存储过程：total_order(IN orderid INT , OUT totals NUMERIC(9,2), OUT cid INT)</p>
<p>要求：根据输入的订单编号(order_id)，返回订单总金额(total_money),顾客编号(customer_id)。</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2j963fbiblq0.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">create procedure total_order(
  in orderid int,
  out totals numeric(9,2),
  out cid int
)

select total_money,customer_id into totals,cid 
from orders
where orderid=order_id;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p><strong>4.</strong> SQL存储过程：建立存储过程，查询课程的成绩表</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.2v2mrfa57rg0.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">create procedure show_grade(
  in s char(7),
  in c varchar(20),
  out g smallint
)

select grade into g 
from sc,course
where sc.cno=course.cno and cname=c and sno=s;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<ol start="5">
<li>SQL存储函数：查询学生的平均分<br> #建立存储函数show_grade：根据课程号，返回该课程的平均成绩(保留两位小数)。</li>
</ol>
<p>学生数据库db_student包括三个数据表student（学生表）、course（课程表）和sc（选课表）。表结构如下：</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.5nn18424c9g.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">delimiter $
create function show_grade(ccno char(10))
returns decimal(10,2) deterministic
begin
	return (select avg(grade) from sc
		   where cno=ccno group by ccno);
end $<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="课堂练习7-数据规范化"><a href="#课堂练习7-数据规范化" class="headerlink" title="课堂练习7-数据规范化"></a>课堂练习7-数据规范化</h2><blockquote>
<p>1、设有关系模式R(A,B,C,D)，根据以下各题函数依赖，给出关系的码，并判断R属于哪种范式（1NF,2NF,3NF,BCNF）。</p>
<p>1)如果函数依赖F={B→D, AB →C}，则R的候选码为 （A,B） ，R属于1 NF.</p>
<p>2)如果函数依赖F={A →B,A →C,D →A}，则R的候选码为D ，R属于2 NF.</p>
<p>3)如果函数依赖F={BCD →A,A →C}，则R的候选码为（B,C,D）,（A,B,D） ，R属于3 NF.</p>
<p>4)如果函数依赖F={B →C,B →D,CD →A}，则R的候选码为B ，R属于2 NF.</p>
<p>5)如果函数依赖F={ABD →C}，则R的候选码为（A,B,D），R属于BC NF.</p>
</blockquote>
<blockquote>
<p>现有如下关系模式：R(教师号，姓名，部门号，部门名称，科研项目编号，项目名称，项目经费，担任工作，完成时间)每名教师可以参加多项科研项目，每个项目可以有多名教师参加，教师参加科研工作包括担任工作及他完成所担任部分的完成时间。 </p>
<p>(1)根据上述条件，写出关系模式R的关键码。</p>
<p>(2)R最高属于第几范式，为什么？ </p>
<p>(3)将R规范到3NF。</p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">(1)依赖集:
（教师号）→（姓名）

（部门号）→（部门名称）

（科研项目编号）→项目名称

（科研项目编号）→项目经费

（教师号，科研项目编号）→（担任工作）

（教师号，科研项目编号）→（完成时间）

候选码：（教师号，部门号，科研项目编号）

(2)2NF (第一范式)，存在姓名依赖于教师号，而担任工作依赖于教师号和科研项目编号，这是个非主属性对码的部分函数依赖

(3) R1(教师，教师号，姓名)
	R2(部门，部门号，部门名称)
	R3(科研项目，科研项目编号，项目名称，项目经费)
	R4(教师科研情况，教师号，科研项目编号，担任工作，完成时间)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p>已知关系模式：学生（学号，姓名，年龄，性别，系别，系主任），一个学生隶属于一个系，一个系只有一个系主任。</p>
<p>请分析关系模式，回答问题：</p>
<p>（1）写出函数依赖集，并给出关系的候选码；</p>
<p>（2）关系的范式等级（说明理由）；</p>
<p>（3）若未达到第3范式，请进行模式分解，使其达到第3范式。</p>
</blockquote>
<p>(1）依赖集:</p>
<p>学号-&gt;姓名，年龄，性别，系别</p>
<p>系别-&gt;系主任</p>
<p>候选码:（学号)</p>
<p>(2）2NF,不存在非主属性对码的部分函数依赖，存在非主属性系主任对码学号的传递函数依赖，所以学生属于2NF</p>
<p>(3）学生(<u>学号</u>，姓名，年龄，性别，系别)</p>
<p>   系(系别，系主任)</p>
<blockquote>
<p>设有关系模式：参加项目（部门编号，部门名称，部门所在城市，员工编号，员工姓名，项目编号，项目名称，项目预算，职务，参加项目日期），</p>
<p>其中：一个部门所在城市惟一；一个员工可以参加多个项目，并且在项目中担任一个职务；一个项目由多个员工参与；一个员工只隶属于一个部门；员工参加某个项目的日期惟一。</p>
<p>请根据以上描述对关系模式进行分析:</p>
<p>（1）写出关系模式的候选码；</p>
<p>（2）分析范式等级（说明理由）；</p>
<p>（3）若该关系未达到第3范式，请对该关系进行模式分解，至少达到第3范式的要求。</p>
</blockquote>
<p>(1)候选码：（员工编号，项目编号）</p>
<p>(2)1NF,存在非主属性员工姓名、项目名称对码(员工编号，项目编号）的部分函数依赖，所以参加项目关系不属于2NF，所以参加项目属于1NF</p>
<p>(3)部门（<u>部门编号</u>，部门名称，部门所在城市)）<br>员工（<u>员工编号</u>，员工姓名，部门编号）<br>项目（<u>项目编号</u>，项目名称，项目预算）<br>员工参加项目（<u>员工编号，项目编号</u>，职务，参加项目日期）</p>
<blockquote>
<p>设有这样一个关系模式Teacher(教师编号，教师姓名，所在部门，图书编号，书名，图书备注，借书日期，还书日期) ，若规定每名教师的编号，每本图书的编号取值均唯一，每个教师只能在一个部门工作，每本图书有一个图书信息备注，每个教师可以借阅多本图书，每本图书可以被多个教师借阅，每个教师借阅每本图书有借书日期和还书日期。</p>
<p>（1）写出该关系模式的候选码。</p>
<p>（3）该关系模式最高满足第几范式，请说明理由。</p>
<p>（5）将该关系模式规范到3NF。</p>
</blockquote>
<p>（1）候选码：（教师编号，图书编号，借书日期）</p>
<p>（2）1NF，存在非主属性教师姓名对码的部分函数依赖</p>
<p>（3）teacher（<u>教师编号</u>，教师姓名，所在部门）</p>
<p>  图书（<u>图书编号</u>，书名，图书备注）</p>
<p>  借书（<u>教师编号，图书编号，借书日期</u>，还书日期）</p>
<blockquote>
<p>关系模式R（会议，主持人，时间，会议室，会员，职务），假设一个会议有唯一的一个主持人，在一个时间地点只能召开一个会议，在给定时间一个主持人只能在一个会议室，在给定时间一个会员只能在一个会议室，一个会员在一个会议中只能有一个职务。</p>
<ol>
<li>写出R的函数依赖集和码；</li>
<li>判断R所属的范式，并把R分解成为BCNF。</li>
</ol>
</blockquote>
<p>1、函数依赖集：</p>
<p>会议-&gt;主持人，会议-&gt;时间，会议-&gt;会议室，(时间，会议室)-&gt;会议，</p>
<p>(时间，主持人)-&gt;会议室，(时间，会员)-&gt;会议室，(会员，会议)-&gt;职务</p>
<p>候选码（会员，会议），(时间，会员)</p>
<p>2、1NF,非主属性主持人对码存在部分函数依赖，所以R属于1NF。</p>
<p>R1(<u>会议</u>，主持人，时间，会议室)</p>
<p>R2(<u>会议，会员</u>，职务)</p>
<h2 id="课堂练习8-数据库设计"><a href="#课堂练习8-数据库设计" class="headerlink" title="课堂练习8-数据库设计"></a>课堂练习8-数据库设计</h2><blockquote>
<p>某IT公司的数据库信息：</p>
<p>①部门具有部门编号、部门名称、办公地点；</p>
<p>②部门员工具有员工编号、姓名、级别，员工只在一个部门工作；</p>
<p>③每个部门有唯一一个部门员工作为部门经理； </p>
<p>④实习生具有实习编号、姓名、年龄，只在一个部门实习；</p>
<p>⑤项目具有项目编号、项目名称、开始日期、结束日期；</p>
<p>⑥每个项目由一名员工负责，由多名员工、实习生参与；</p>
<p>⑦一名员工只负责一个项目，可以参与多个项目，在每个项目具有工作时间比；</p>
<p>⑧每个实习生只参与一个项目。</p>
<p>（1）试画出这个数据库的E-R图。</p>
<p>（2）转化为适当的关系模型，并给出关系的主码和外码。</p>
</blockquote>
<p>（1）</p>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.4lv62w78zig0.webp"></p>
<p>(2)关系模型为:</p>
<p>主码用下划线标识，外键用斜体标识</p>
<p>部门(<u>部门编号</u>，部门名称，办公地址，<em>经理编号</em>)，部门的经理编号参照员工的员工编号;</p>
<p>实习生(<u>实习编号</u>，姓名，年龄，<em>部门编号，项目编号</em>)，部门编号参照部门关系的部门编号;</p>
<p>员工(<u>员工编号</u>，姓名，级别，<em>部门编号</em>)，部门编号参照部门关系的部门编号;</p>
<p>项目(<u>项目编号</u>，项目名称，开始日期，结束日期，<em>负责人</em>)，负责人编号参照员工关系的员工编号;</p>
<p>员工参项(<u><em>员工编号，项目编号</em></u>，工作时间比)，员工编号参照员工关系的员工编号，项目编号参照项目关系的项目编号。</p>
<h2 id="课堂练习9-数据库恢复与并发控制"><a href="#课堂练习9-数据库恢复与并发控制" class="headerlink" title="课堂练习9-数据库恢复与并发控制"></a><strong>课堂练习9-数据库恢复与并发控制</strong></h2><blockquote>
<p>1、事务的4个特性中，并发执行的各个事务之间不能相互干扰是指事务的 隔离性 。</p>
<p>2、事务的4个特性中，一组操作不可分，要么全做要么全不做称为事务的 原子性。</p>
<p>3、数据库并发控制的基本单位是 事务。</p>
<p>4、索引能帮助系统更快地进行查询。因此，我们应该尽量多地在系统中建立索引。	错误</p>
<p>5、数据库设计中的数据流图是用户亲自设计出来的。	错误</p>
<p>6、在数据库设计中所建立的数据字典就是专门用来存放信息系统中数据的，就好比我们的Student表用来存放学生信息的一样。	错误</p>
<p>7、在概念模型设计中，有些事物既可以设计成属性，也可以设计成实体。设计原则是能当作实体的尽量设计成实体。	错误</p>
<p>8、将E-R图转换成关系模式的时候，三个或三个以上实体间的一个多元联系转换为一个独立的关系模式，其中任何一个实体的码都可以当作该关系模的码。	错误</p>
<p>9、将E-R图转换成关系模式的时候，三个或三个以上实体间的一个多元联系只能转换为一个独立的关系模式，不能跟任何一端实体合并。	正确</p>
<p>10、E-R图中一个1：n的联系形成一个独立的模式R，则R的主码可以是N端实体的码，也可以是1端实体的码。	错误</p>
<p>11、E-R图中一个1：n的联系只能形成一个独立的模式，不能与任意一端实体合并。	错误</p>
<p>12、E-R图中一个1：1的联系只能形成一个独立的模式，不能与任意一端实体合并。	错误</p>
<p>13、E-R图中一个m：n的联系只能形成一个独立的模式，不能与任意一端实体合并。	正确</p>
</blockquote>
<p>现有两个事务，分别包含下列操作：</p>
<p>事务T1:读B：A=B+1;写回A;</p>
<p>事务T2:读A：B=A+1;写回B;</p>
<p>假设A,B的初值均为2。请分析下面两个事务的并发执行是否为可串行化调度 否   (请填是或否)。</p>
<p> T1      T2</p>
<p>SLOCK(B)   </p>
<p>Y=READ(B)=2</p>
<p>​       SLOCK(A)</p>
<p>​       X=READ(A)=2</p>
<p>UNLOCK(B)</p>
<p>​       UNLOCK(A)</p>
<p>XLOCK(A)</p>
<p>A=Y+1=3   </p>
<p>WRITE(A)</p>
<p>​       XLOCK(B)</p>
<p>​       B=X+1=3</p>
<p>​       WRITE(B)</p>
<p>UNLOCK(A)</p>
<p>​       UNLOCK(B)</p>
<h2 id="课堂测试7-数据恢复与并发控制"><a href="#课堂测试7-数据恢复与并发控制" class="headerlink" title="课堂测试7-数据恢复与并发控制"></a><strong>课堂测试7-数据恢复与并发控制</strong></h2><blockquote>
<p>设有一个关系R(A,B,C,D,E)，它的最小函数依赖集为FD={A-&gt;B,A-&gt;C,C-&gt;D,C-&gt;E},则该关系的候选码为   A   （若有多个，用逗号隔开），满足第   2    NF。</p>
</blockquote>
<blockquote>
<p>检索至少选修了“计算机网络基础”和“数据库原理”两门课程的学生的姓名、所在系</p>
<p>设有四个关系：</p>
<p>学生关系S(SNO,SNAME,SSEX,SAGE,SDEPT,SSPECIAL)，属性含义为学号(SNO),姓名(SNAME),性别(SSEX),年龄(SAGE),所在系(SDEPT),所在专业(SSPECIAL)；</p>
<p>课程关系C(CNO,CNAME,CCREDIT,CDEPT,CPRECNO,TNO)，属性含义为：课程号(CNO),课程名(CNAME),学分(CCREDIT),开课系(CDEPT),先修课程号(CPRECNO),教师编号(TNO)；</p>
<p>教师关系T(TNO,TNAME,TSEX,TSPECIAL)，属性含义为： 教师编号(TNO) ,教师姓名(TNAME),教师性别(TSEX),从事专业(TSPECIAL)；</p>
<p>学习关系SC(SNO,CNO,GRADE)，属性含义为：学号(SNO),课程号(CNO),成绩(GRADE)。</p>
<p>请用关系代数表达式表示查询任务：检索至少选修了“计算机网络基础”和“数据库原理”两门课程的学生的姓名、所在系。</p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πsno,sdept,cno(s∞sc)÷πcno(δcname="计算机网络基础"∨cname="数据库原理"(c))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p>检索计算机系学生的选课情况，列出学号、姓名、课程号和成绩</p>
<p>设有四个关系：</p>
<p>学生关系S(SNO,SNAME,SSEX,SAGE,SDEPT,SSPECIAL)，属性含义为学号(SNO),姓名(SNAME),性别(SSEX),年龄(SAGE),所在系(SDEPT),所在专业(SSPECIAL)；</p>
<p>课程关系C(CNO,CNAME,CCREDIT,CDEPT,CPRECNO,TNO)，属性含义为：课程号(CNO),课程名(CNAME),学分(CCREDIT),开课系(CDEPT),先修课程号(CPRECNO),教师编号(TNO)；</p>
<p>教师关系T(TNO,TNAME,TSEX,TSPECIAL)，属性含义为： 教师编号(TNO) ,教师姓名(TNAME),教师性别(TSEX),从事专业(TSPECIAL)；</p>
<p>学习关系SC(SNO,CNO,GRADE)，属性含义为：学号(SNO),课程号(CNO),成绩(GRADE)。</p>
<p>请用关系代数表达式表示查询任务：检索计算机系学生的选课情况，列出学号、姓名、课程号和成绩。</p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">πsno,sname,cno,grade(δsdept="计算机系"(s∞sc))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<blockquote>
<p>规范化模式分解：关系模式R（员工编号，日期，零件数，部门名称，部门经理）</p>
<p>关系模式R（员工编号，日期，零件数，部门名称，部门经理），表示 某个工厂里每个员工的日生产零件数以及员工所在的部门和经理信息。假设：每个员工每天只有一个日生产零件数，每个员工只在一个部门工作，每个部门只有一个经理，那么：</p>
<ol>
<li>写出R的函数依赖集和码；</li>
<li>判断R所属的范式，并把R分解成为3NF。</li>
</ol>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">1、依赖集:
(员工编号，日期)→零件数,员工编号→部门名称，部门名称→部门经理。

码：（员工编号，日期）

2、属于1NF存在非主属性部门名称对码的部分函数依赖

R1(员工编号，日期，零件数)

R2(部门名称，部门经理)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p>一个图书管理系统，基本要求如下：</p>
<p>一个图书管理系统，基本要求如下：</p>
<ul>
<li>一名读者可借阅多种书，一种书可由多名读者借阅；  </li>
<li>一种书只在一个书库存放，一个书库可存放多种书；</li>
<li>一个书库有一个管理员，一个管理员只负责一个书库；</li>
<li>读者信息包括读者编号、姓名、单位等；图书信息包括书号、书名、作者、出版社等；书库信息包括书库号、面积等；管理员包括管理员编号、姓名等。</li>
</ul>
<p>根据上述信息，完成以下内容：</p>
<p>(1)设计系统的E-R模型；</p>
<p>(2)将设计的E-R模型转换为关系模型，并标出关系的码。</p>
</blockquote>
<p>(1)</p>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/image.7117svc9dg40.webp"></p>
<p>(2)关系模型，主码用下划线标识</p>
<p>​     读者（<u>读者编号</u>，姓名，单位）</p>
<p>​     图书（<u>书号</u>，书名，作者，出版社，书库号）</p>
<p>​     借阅（<u>读者编号</u>，书号）</p>
<p>​     书库（<u>书库号</u>，面积）</p>
<p>​     管理员（<u>编号</u>，姓名，书库号）</p>
<blockquote>
<p>​	查询从来没有人借阅过的图书信息，列出书号，书名，作者。</p>
<p>查询从来没有人借阅过的图书信息，列出书号，书名，作者，结果按书号升序排列。</p>
<p>表结构如下：</p>
<p>card(借书卡) 表：cno 卡号，name 姓名，class 班级</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/image.379s55clr6c0.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select distinct bno,bname,author
from book
where bno not in(select borrow.bno from borrow)
order by 1;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>





<blockquote>
<p>查询被借阅次数最多的图书信息，列出书号、书名、作者<br>查询被借阅次数最多的图书信息，列出书号、书名、作者</p>
<p>表结构如下：</p>
<p>card(借书卡) 表：cno 卡号，name 姓名，class 班级</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/image.58ebcpr35zo0.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select book.bno,bname,author from book,borrow
where book.bno=borrow.bno
group by book.bno
having sum(borrow.bno)=(select sum(borrow.bno) from order_detail,product
                                  where borrow.bno=book.bno
                                  group by book.bno
                                  order by sum(borrow.bno) desc
                                  limit 1);
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p>创建库存表<br>创建库存表sg，表结构如下：</p>
<p>1、仓库编号：SNO    字符型（5） 主码;</p>
<p>2、商品编号：GNO    字符型（6）主码;</p>
<p>3、库存数量：QUANTITY  整型；</p>
<p>4、外码约束：SNO 参照库存表：store的SNO列，设置删除限制，更新级联；</p>
<p>5、外码约束：GNO 参照商品表：goods的GNO列，设置删除限制，更新级联；</p>
<p>【注意表名必须为小写】</p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">create table sg(
  sno char(5),
  gno char(6),
  quantity int,
  primary key(sno,gno),
  foreign key (sno) references store(sno)
  ON DELETE RESTRICT ON UPDATE CASCADE,
  foreign key (gno) references goods(gno)
  ON DELETE RESTRICT ON UPDATE CASCADE
  );<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p>SQL查询：统计各部门人数<br>#统计各部门人数，要求输出部门id，部门名称，人数。按部门排序。</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/image.3rn8n6xn2580.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select e.dept_id,dept_name,count(*)
from employee e,department d
where e.dept_id=d.dept_id
group by e.dept_id
order by 1;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p>查询当前同时借有”计算方法”和”组合数学”两本书的读者<br>查询当前同时借有”计算方法”和”组合数学”两本书的读者，输出其借书卡号，并按卡号升序排序输出。</p>
<p>表结构如下：</p>
<p>book(图书) 表：bno 书号，bname 书名，author 作者，price 单价，quantity 库存数</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/image.2w0b1uihzvc0.webp"></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">select cno
from borrow b1
where not exists(select *from book
                bname in('计算方法','组合数学') and not exists (select * from borrow b2
                                                       where b2.cno=b1.cno and b2.bno = book.bno))
                                                       order by 1;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<blockquote>
<p>修改编号33的“安志杰”的部门编号为1005，职位为“业务员”。<br>修改编号33的“安志杰”的部门编号为1005，职位为“业务员”。</p>
</blockquote>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">update employee
set dept_id = 1005，job_title = '业务员'
where employee_id=33;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>


                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">JinzaiLi</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://jinzaili.github.io/2022/06/09/shu-ju-ku-yuan-li-ji-ying-yong/">https://jinzaili.github.io/2022/06/09/shu-ju-ku-yuan-li-ji-ying-yong/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">JinzaiLi</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/MySQL/">
                                    <span class="chip bg-color">MySQL</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments textarea {
        box-sizing: border-box;
        background: url("/medias/comment_bg.png") 100% 100% no-repeat;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #4cbf30;
        font-weight: 500;
        text-decoration: none;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="vcomments" class="card-content" style="display: grid">
    </div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: '4WI8iP9hpDJuTTD5E0kaREUx-gzGzoHsz',
        appKey: 'cNYz9M0zo9OzSLtEPto16Qg1',
        notify: 'true' === 'true',
        verify: 'true' === 'true',
        visitor: 'true' === 'true',
        avatar: 'mm',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: 'just go go'
    });
</script>

<!--酷Q推送-->


    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="far fa-dot-circle"></i>&nbsp;本篇
            </div>
            <div class="card">
                <a href="/2022/06/09/shu-ju-ku-yuan-li-ji-ying-yong/">
                    <div class="card-image">
                        
                        <img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/blog/image.1bpbrqtjhmv4.webp" class="responsive-img" alt="数据库原理及应用">
                        
                        <span class="card-title">数据库原理及应用</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            本文收集资料了MySQL数据库原理及应用的相关习题
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-06-09
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/" class="post-category">
                                    数据库原理及应用
                                </a>
                            
                            
                        </span>
                    </div>
                </div>

                
                <div class="card-action article-tags">
                    
                    <a href="/tags/MySQL/">
                        <span class="chip bg-color">MySQL</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/06/06/bao-cang-wang-zhan/">
                    <div class="card-image">
                        
                        <img src="https://cdn.jsdelivr.net/gh/undersunn/PicX@master/image.58dmjg713dc0.webp" class="responsive-img" alt="宝藏网站">
                        
                        <span class="card-title">宝藏网站</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            音乐人声分离 图片找番剧 台词找电影 画作动起来 擦除图片物体
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-06-06
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E6%94%B6%E8%97%8F%E7%BD%91%E7%AB%99/" class="post-category">
                                    收藏网站
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E5%AE%9D%E8%97%8F%E7%BD%91%E7%AB%99/">
                        <span class="chip bg-color">宝藏网站</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE' || selection.getRangeAt(0).commonAncestorContainer.nodeName === 'CODE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: 技能笔记<br />'
            + '文章作者: JinzaiLi<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="3778678"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="/libs/aplayer/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2021-2022</span>
            
            <a href="/about" target="_blank">JinzaiLi</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
                &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                        class="white-color">39.8k</span>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
                <span id="sitetime"> Loading ...</span>
                <script>
                    var calcSiteTime = function () {
                        var seconds = 1000;
                        var minutes = seconds * 60;
                        var hours = minutes * 60;
                        var days = hours * 24;
                        var years = days * 365;
                        var today = new Date();
                        var startYear = "2021";
                        var startMonth = "11";
                        var startDate = "15";
                        var startHour = "12";
                        var startMinute = "44";
                        var startSecond = "0";
                        var todayYear = today.getFullYear();
                        var todayMonth = today.getMonth() + 1;
                        var todayDate = today.getDate();
                        var todayHour = today.getHours();
                        var todayMinute = today.getMinutes();
                        var todaySecond = today.getSeconds();
                        var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                        var diff = t2 - t1;
                        var diffYears = Math.floor(diff / years);
                        var diffDays = Math.floor((diff / days) - diffYears * 365);

                        // 区分是否有年份.
                        var language = 'zh-CN';
                        if (startYear === String(todayYear)) {
                            document.getElementById("year").innerHTML = todayYear;
                            var daysTip = 'This site has been running for ' + diffDays + ' days';
                            if (language === 'zh-CN') {
                                daysTip = '本站已运行 ' + diffDays + ' 天';
                            } else if (language === 'zh-HK') {
                                daysTip = '本站已運行 ' + diffDays + ' 天';
                            }
                            document.getElementById("sitetime").innerHTML = daysTip;
                        } else {
                            document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                            var yearsAndDaysTip = 'This site has been running for ' + diffYears + ' years and '
                                + diffDays + ' days';
                            if (language === 'zh-CN') {
                                yearsAndDaysTip = '本站已运行 ' + diffYears + ' 年 ' + diffDays + ' 天';
                            } else if (language === 'zh-HK') {
                                yearsAndDaysTip = '本站已運行 ' + diffYears + ' 年 ' + diffDays + ' 天';
                            }
                            document.getElementById("sitetime").innerHTML = yearsAndDaysTip;
                        }
                    }

                    calcSiteTime();
                </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/GrayhatLewis" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:jinzaili@outlook.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=3315927729" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 3315927729" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
        
        <script type="text/javascript">
            // 只在桌面版网页启用特效
            var windowWidth = $(window).width();
            if (windowWidth > 768) {
                document.write('<script type="text/javascript" src="/libs/others/sakura.js"><\/script>');
            }
        </script>
    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

<script>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?0cd1d7e504807b20e78e3d88c223a192";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    
    
    <script type="text/javascript" size="150" alpha='0.6'
        zIndex="-1" src="/libs/background/ribbon-refresh.min.js" async="async"></script>
    

    
    <script type="text/javascript" src="/libs/background/ribbon-dynamic.js" async="async"></script>
    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
